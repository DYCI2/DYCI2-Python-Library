
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>DYCI2’s documentation &#8212; DYCI2 library 0.1 documentation</title>
    <link rel="stylesheet" href="_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
  </head><body>
      <div class="header" role="banner"><h1 class="heading"><a href="#">
          <span>DYCI2 library 0.1 documentation</span></a></h1>
        <h2 class="heading"><span>DYCI2’s documentation</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        <a class="uplink" href="#">Contents</a>
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="dyci2-s-documentation">
<h1>DYCI2’s documentation<a class="headerlink" href="#dyci2-s-documentation" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound" id="mastertoc">
</div>
</div>
<div class="section" id="introduction">
<h1><strong>Introduction</strong><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h1>
<p>This version of the <em>DYCI2 library</em> is the first release of a work in progress: a set of models and tools for creative generation of sequences (and in particular musical sequences) from models of sequences. It implements several models, generative heuristics, time management strategies, and architectures of interactive agents.</p>
<p>Repository: <a class="reference external" href="https://forge.ircam.fr/p/DYCI2_library/">https://forge.ircam.fr/p/DYCI2_library/</a></p>
<p>DYCI2 (“Creative Dynamics of Improvised Interaction”) is a collaborative research and development project funded by the French National Research Agency (ANR). It explores the creative dynamics of improvised interactions between human and artificial agents, featuring an informed artificial listening scheme, a musical structure discovery and learning scheme, and a generalized interaction / knowledge / decision dynamics scheme (see <a class="reference external" href="http://repmus.ircam.fr/dyci2/home">http://repmus.ircam.fr/dyci2/home</a>). The <em>DYCI2 library</em> is part of the DYCI2 project, it is conceived as an autonomous and easily extensible Python library, and can also be used in association with audio or midi listeners and renderers to form <em>DYCI2 agents</em> (see directory <em>“MaxPatches”</em>).</p>
<p>More information on the project: refer to <strong>Nika, Déguernel, Chemla–Romeu-Santos, Vincent, Assayag, “DYCI2 agents: merging the “free”, “reactive”, and “scenario-based” music generation paradigms”, in Proceedings of International Computer Music Conference 2017</strong> (<a class="reference external" href="https://hal.archives-ouvertes.fr/hal-01583089/document">https://hal.archives-ouvertes.fr/hal-01583089/document</a>) (please mention this paper to mention the library).</p>
<p>To use the library: see the tuturials in the root directory.</p>
<dl class="docutils">
<dt>In this version:</dt>
<dd><ul class="first last simple">
<li>Definitive architecture of the library: classes Model, Navigator, MetaModelNavigator, Query, Generator, GenerationHandler, and OSCAgent.</li>
<li><em>Models</em>: Naive sequence navigation, Factor Oracle automaton.</li>
<li><em>Associated navigation strategies</em>: free generation (“Omax-like”), single target generation, scenario-based generation (“ImproteK-like”).</li>
<li><em>Architectures of generative agent</em>: Generator and GenerationHandler (see doc), demand-driven generative agents processing queries expressed in “events”. The (short-term and long-term) queries communicate through a shared execution trace to maintain consistency of the generated sequence when rewriting previously generated anticipations.</li>
<li><em>Communication</em>: OSC agents embedding the generative agents.</li>
<li><em>Alphabets</em>: Generic list labels, Chord Labels.</li>
<li><em>Documentation</em>: modules Model, Navigator, PrefixIndexing, MetaModelNavigator, Generator, GeneratorBuilder.</li>
<li><em>Tutorials</em>: FactorOracle, PrefixIndexing, Intervals, MetaModelNavigator, FactorOracleNavigator, Generator, GenerationHandler, OSCAgent_Tutorial_1 (text), OSCAgent_Tutorial_2_X (audio)</li>
</ul>
</dd>
<dt>Next steps:</dt>
<dd><ul class="first last simple">
<li><em>Models</em>: N-gram.</li>
<li><em>Associated navigation strategies</em>: Navigator including a notion of “activity profile”, free generation and single target generation using this navigator  (“Somax-like”).</li>
<li><em>Architectures of generative agent</em>: “Algebra” of queries, queries expressed in “ms”. output of the queries not directly outputted but redirected to a choice method that will be in charge of outputting the result –&gt; new playing modes “hard hybrid guidance” (long-term queries &gt; short-term queries) and “soft hybrid guidance” (short-term queries &gt; long-term queries).</li>
<li><em>Alphabets</em>: Class “Contents”.</li>
<li><em>Documentation</em>: modules Label, Transforms, Intervals, ParseAnnotationFiles, CorpusBuilder, OSCAgent.</li>
<li><em>Tutorials</em>: GeneratorBuilder, OSCAgent_Tutorial_2 (audio), OSCAgent_Tutorial_3 (midi).</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="overview">
<h1><strong>Overview</strong><a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h1>
<div class="figure" id="id1">
<img src="_images/inheritance-ae695809b79cd5e11278d1b43b721480d6238761.png" alt="Inheritance diagram of Model.FactorOracle" usemap="#inheritance4256eca536" class="inheritance"/>
<map id="inheritance4256eca536" name="inheritance4256eca536">
<area shape="rect" id="node1" href="#Model.FactorOracle" target="_top" title="**Factor Oracle automaton class.**" alt="" coords="125,5,224,29"/>
<area shape="rect" id="node2" href="#Model.Model" target="_top" title="The class :class:`~Model.Model` is an **abstract class**. " alt="" coords="5,5,77,29"/>
</map><p class="caption"><span class="caption-text"><a class="reference internal" href="#Model.Model" title="Model.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a> is an abstract class. Any new model of sequence must inherit from this class. The classes inheriting from this class are minimal and only implement the construction algorithms and basic methods. Navigation and creative aspects are handled by the classes introduced below. Models of sequence implemented so far: Factor Oracle Automaton (<a class="reference internal" href="#Model.FactorOracle" title="Model.FactorOracle"><code class="xref py py-class docutils literal notranslate"><span class="pre">FactorOracle</span></code></a>).</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<div class="figure" id="id2">
<img src="_images/inheritance-b79d321abd304b9bf16ce07e10c056ff476672b0.png" alt="Inheritance diagram of Navigator.Navigator" usemap="#inheritanceea8a50b8bb" class="inheritance"/>
<map id="inheritanceea8a50b8bb" name="inheritanceea8a50b8bb">
<area shape="rect" id="node1" href="#Navigator.Navigator" target="_top" title="The class :class:`~Navigator.Navigator` implements **parameters and methods that are used to navigate through a model of sequence**. " alt="" coords="6,5,85,29"/>
</map><p class="caption"><span class="caption-text">The class <a class="reference internal" href="#Navigator.Navigator" title="Navigator.Navigator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Navigator</span></code></a> implements parameters and methods that are used to navigate through a model of sequence. These parameters and methods are <strong>model-independent</strong>. This class defines in particular the naive versions of the methods <a class="reference internal" href="#Navigator.Navigator.simply_guided_generation" title="Navigator.Navigator.simply_guided_generation"><code class="xref py py-meth docutils literal notranslate"><span class="pre">simply_guided_generation()</span></code></a> and <a class="reference internal" href="#Navigator.Navigator.free_generation" title="Navigator.Navigator.free_generation"><code class="xref py py-meth docutils literal notranslate"><span class="pre">free_generation()</span></code></a> handling the navigation through a sequence when it is respectively guided by target labels and free. These methods are overloaded by model-dependant versions (and other model-dependent parameters or methods can be added) when creating a <strong>model navigator</strong> class (cf. below).</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
<div class="figure" id="id3">
<img src="_images/inheritance-56cebe22dfb436a2b296e897f06ba8fc17e0db97.png" alt="Inheritance diagram of MetaModelNavigator.MetaModelNavigator" usemap="#inheritance05d2c70056" class="inheritance"/>
<map id="inheritance05d2c70056" name="inheritance05d2c70056">
<area shape="rect" id="node1" href="#MetaModelNavigator.MetaModelNavigator" target="_top" title=":class:`~MetaModelNavigator.MetaModelNavigator` is a **metaclass**. " alt="" coords="5,5,150,29"/>
</map><p class="caption"><span class="caption-text"><a class="reference internal" href="#MetaModelNavigator.MetaModelNavigator" title="MetaModelNavigator.MetaModelNavigator"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetaModelNavigator</span></code></a> is a <strong>metaclass</strong>. A new class created using this metaclass is a <strong>model navigator</strong> and inherits from: <strong>1)</strong> a class inheriting from <a class="reference internal" href="#Model.Model" title="Model.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a>, <strong>2)</strong> a class inheriting from <a class="reference internal" href="#Navigator.Navigator" title="Navigator.Navigator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Navigator</span></code></a>. A <strong>model navigator</strong> implements the different algorithms, strategies, and heuristics to navigate through a given model of sequence for analysis or creative applications, for example <strong>generating new sequences using concatenative synthesis of events learned in the model</strong>. The class <a class="reference internal" href="#ModelNavigator.FactorOracleNavigator" title="ModelNavigator.FactorOracleNavigator"><code class="xref py py-class docutils literal notranslate"><span class="pre">FactorOracleNavigator</span></code></a> introduced below is an example of model navigator created using this metaclass.</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
<div class="figure" id="id4">
<img src="_images/inheritance-d0a1701597eaf75c59c3e88c20c7bb3f5af7635b.png" alt="Inheritance diagram of ModelNavigator.FactorOracleNavigator, Model.FactorOracle" usemap="#inheritancec9a4725307" class="inheritance"/>
<map id="inheritancec9a4725307" name="inheritancec9a4725307">
<area shape="rect" id="node1" href="#Model.FactorOracle" target="_top" title="**Factor Oracle automaton class.**" alt="" coords="125,53,224,77"/>
<area shape="rect" id="node2" href="#Model.Model" target="_top" title="The class :class:`~Model.Model` is an **abstract class**. " alt="" coords="5,53,77,77"/>
<area shape="rect" id="node4" href="#Navigator.Navigator" target="_top" title="The class :class:`~Navigator.Navigator` implements **parameters and methods that are used to navigate through a model of sequence**. " alt="" coords="135,5,214,29"/>
</map><p class="caption"><span class="caption-text">The class <a class="reference internal" href="#ModelNavigator.FactorOracleNavigator" title="ModelNavigator.FactorOracleNavigator"><code class="xref py py-class docutils literal notranslate"><span class="pre">FactorOracleNavigator</span></code></a> implements different algorithms, strategies, and heuristics to navigate through a Factor Oracle Automaton for creative applications. The creation of the class <a class="reference internal" href="#ModelNavigator.FactorOracleNavigator" title="ModelNavigator.FactorOracleNavigator"><code class="xref py py-class docutils literal notranslate"><span class="pre">FactorOracleNavigator</span></code></a> in the file <code class="file docutils literal notranslate"><span class="pre">ModelNavigator.py</span></code> gives an example of easy definition of a new class of model navigator using the metaclass <a class="reference internal" href="#MetaModelNavigator.MetaModelNavigator" title="MetaModelNavigator.MetaModelNavigator"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetaModelNavigator</span></code></a>: 1) chose two bases (here, model = <a class="reference internal" href="#Model.FactorOracle" title="Model.FactorOracle"><code class="xref py py-class docutils literal notranslate"><span class="pre">FactorOracle</span></code></a>, navigator = <a class="reference internal" href="#Navigator.Navigator" title="Navigator.Navigator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Navigator</span></code></a>), 2) define the methods to overload <a class="reference internal" href="#Navigator.Navigator.simply_guided_generation" title="Navigator.Navigator.simply_guided_generation"><code class="xref py py-meth docutils literal notranslate"><span class="pre">simply_guided_generation()</span></code></a> and <a class="reference internal" href="#Navigator.Navigator.free_generation" title="Navigator.Navigator.free_generation"><code class="xref py py-meth docutils literal notranslate"><span class="pre">free_generation()</span></code></a> (here <a class="reference internal" href="#ModelNavigator.FactorOracleNavigator.simply_guided_navigation" title="ModelNavigator.FactorOracleNavigator.simply_guided_navigation"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ModelNavigator.FactorOracleNavigator.simply_guided_navigation()</span></code></a> and <a class="reference internal" href="#ModelNavigator.FactorOracleNavigator.free_navigation" title="ModelNavigator.FactorOracleNavigator.free_navigation"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ModelNavigator.FactorOracleNavigator.free_navigation()</span></code></a>)</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</div>
<div class="figure" id="id5">
<img src="_images/inheritance-f47c2d958c4df245bd068d3af98c160d7761b857.png" alt="Inheritance diagram of Generator.GenerationHandler" usemap="#inheritance0e448b24c7" class="inheritance"/>
<map id="inheritance0e448b24c7" name="inheritance0e448b24c7">
<area shape="rect" id="node1" href="#Generator.GenerationHandler" target="_top" title="The class **GenerationHandler** introduces time management and planning for interactive applications and adds a pool of query, concurrency (e.g. processing of concurrent queries), the use of an execution trace etc. to the class :class:`~Generator.Generator`." alt="" coords="136,5,270,29"/>
<area shape="rect" id="node2" href="#Generator.Generator" target="_top" title="The class **Generator** embeds a **model navigator** as &quot;memory&quot; (cf. metaclass :class:`~MetaModelNavigator.MetaModelNavigator`) and processes **queries** (class :class:`~Query.Query`) to generate new sequences. This class uses pattern matching techniques (cf. :mod:`PrefixIndexing`) to enrich the navigation and generation methods offered by the chosen model with (&quot;ImproteK&#45;like&quot;) anticipative behaviour." alt="" coords="6,5,87,29"/>
</map><p class="caption"><span class="caption-text">The class <a class="reference internal" href="#Generator.Generator" title="Generator.Generator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code></a> embeds a <strong>model navigator</strong> (cf. metaclass <a class="reference internal" href="#MetaModelNavigator.MetaModelNavigator" title="MetaModelNavigator.MetaModelNavigator"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetaModelNavigator</span></code></a>) as “memory” and processes <strong>queries</strong> (class <a class="reference internal" href="#Query.Query" title="Query.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a>) to generate new sequences. This class uses pattern matching techniques (cf. <a class="reference internal" href="#module-PrefixIndexing" title="PrefixIndexing"><code class="xref py py-mod docutils literal notranslate"><span class="pre">PrefixIndexing</span></code></a>) to enrich the navigation and generation methods offered by the chosen model. The class <a class="reference internal" href="#Generator.GenerationHandler" title="Generator.GenerationHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenerationHandler</span></code></a> introduces time management and planning for interactive applications and adds a pool of query, concurrency (e.g. processing of concurrent queries), etc. to the class <a class="reference internal" href="#Generator.Generator" title="Generator.Generator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code></a>.</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</div>
<div class="figure" id="id6">
<img src="_images/inheritance-42248648efccb1f47c2d4be09f720d35d8dbb61f.png" alt="Inheritance diagram of OSCAgent.OSCAgent" class="inheritance"/>
<p class="caption"><span class="caption-text">The class <code class="xref py py-class docutils literal notranslate"><span class="pre">Server</span></code> defines an OSC (<a class="reference external" href="http://opensoundcontrol.org">http://opensoundcontrol.org</a>) server to communicate with external applications. The class <code class="xref py py-class docutils literal notranslate"><span class="pre">OSCAgent</span></code> defines a process embedding an instance of <a class="reference internal" href="#Generator.GenerationHandler" title="Generator.GenerationHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenerationHandler</span></code></a> and its own OSC sender, receiver, settings, etc. to receive queries and control parameters and send generation outputs. Both classes can be used in particular in association with a Max interface handling audio or midi rendering.</span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></li>
<li><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></li>
<li><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></li>
</ul>
</div>
<div class="section" id="module-Model">
<span id="models-and-navigation"></span><h1><strong>Models and navigation</strong><a class="headerlink" href="#module-Model" title="Permalink to this headline">¶</a></h1>
<div class="section" id="model">
<h2>Model<a class="headerlink" href="#model" title="Permalink to this headline">¶</a></h2>
<p>This module defines different models of symbolic sequences.
The classes defined in this module are minimal and only implement the construction algorithms and basic methods. Navigation and creative aspects are handled by other classes in the library (cf. <a class="reference internal" href="#module-Navigator" title="Navigator"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Navigator</span></code></a> and <code class="xref py py-mod docutils literal notranslate"><span class="pre">ModelNavigator</span></code>).
Main classes: <a class="reference internal" href="#Model.Model" title="Model.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a>, <a class="reference internal" href="#Model.FactorOracle" title="Model.FactorOracle"><code class="xref py py-class docutils literal notranslate"><span class="pre">FactorOracle</span></code></a>. 
Tutorial for the class <a class="reference internal" href="#Model.FactorOracle" title="Model.FactorOracle"><code class="xref py py-class docutils literal notranslate"><span class="pre">FactorOracle</span></code></a> in <code class="file docutils literal notranslate"><span class="pre">_Tutorials_/FactorOracleAutomaton_tutorial.py</span></code>.</p>
<dl class="class">
<dt id="Model.FactorOracle">
<em class="property">class </em><code class="descclassname">Model.</code><code class="descname">FactorOracle</code><span class="sig-paren">(</span><em>sequence=[]</em>, <em>labels=[]</em>, <em>equiv=&lt;function &lt;lambda&gt;&gt;</em>, <em>label_type=None</em>, <em>content_type=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Model.FactorOracle" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Model.Model" title="Model.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model.Model</span></code></a></p>
<p><strong>Factor Oracle automaton class.</strong>
Implementation of the Factor Oracle Automaton (Allauzen, Crochemore, Raffinot, 1999).
Convention: since the all the transitions arriving in a same state have the same label, 
the labels are not carried by the transitions but by the states.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sequence</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – sequence learnt in the Factor Oracle automaton</li>
<li><strong>labels</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – sequence of labels chosen to describe the sequence</li>
<li><strong>direct_transitions</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a>) – direct transitions in the automaton (key = index state 1, value = tuple: label, index state 2)</li>
<li><strong>factor_links</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a>) – factor links in the automaton (key = index state 1, value = list of tuples: (label, index state 2)</li>
<li><strong>suffix_links</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a>) – suffix links in the automaton (key = index state 1, value = index state 2)</li>
<li><strong>reverse_suffix_links</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a>) – reverse suffix links in the automaton (key = index state 1, value = list of index state 2)</li>
<li><strong>equiv</strong> (<em>function</em>) – compararison function given as a lambda function, default: (lambda x,y : x == y).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">!:</th><td class="field-body"><p class="first"><strong>equiv</strong> has to be consistent with the type of the elements in labels.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">See also:</th><td class="field-body"><p class="first last"><strong>Tutorial in</strong> <code class="file docutils literal notranslate"><span class="pre">_Tutorials_/FactorOracleAutomaton_tutorial.py</span></code>.</p>
</td>
</tr>
</tbody>
</table>
<p>(When there is no need to distinguish the sequence and its labels : FactorOracle(sequence,sequence).)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sequence</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="s1">&#39;C&#39;</span><span class="p">,</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="s1">&#39;C&#39;</span><span class="p">,</span><span class="s1">&#39;D&#39;</span><span class="p">,</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="s1">&#39;C&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">FO</span> <span class="o">=</span> <span class="n">FactorOracle</span><span class="p">(</span><span class="n">sequence</span><span class="p">,</span> <span class="n">sequence</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sequence</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A1&#39;</span><span class="p">,</span><span class="s1">&#39;B1&#39;</span><span class="p">,</span><span class="s1">&#39;B2&#39;</span><span class="p">,</span><span class="s1">&#39;C1&#39;</span><span class="p">,</span><span class="s1">&#39;A2&#39;</span><span class="p">,</span><span class="s1">&#39;B3&#39;</span><span class="p">,</span><span class="s1">&#39;C2&#39;</span><span class="p">,</span><span class="s1">&#39;D1&#39;</span><span class="p">,</span><span class="s1">&#39;A3&#39;</span><span class="p">,</span><span class="s1">&#39;B4&#39;</span><span class="p">,</span><span class="s1">&#39;C3&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">sequence</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">FO_2</span> <span class="o">=</span> <span class="n">FactorOracle</span><span class="p">(</span><span class="n">sequence</span><span class="p">,</span> <span class="n">labels</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">equiv_AC_BD</span> <span class="o">=</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">:</span> <span class="nb">set</span><span class="p">([</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">])</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="nb">set</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;C&#39;</span><span class="p">]))</span> <span class="ow">or</span> <span class="nb">set</span><span class="p">([</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">])</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="nb">set</span><span class="p">([</span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="s1">&#39;D&#39;</span><span class="p">])))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">FO_3</span> <span class="o">=</span> <span class="n">FactorOracle</span><span class="p">(</span><span class="n">sequence</span><span class="p">,</span> <span class="n">labels</span><span class="p">,</span> <span class="n">equiv_AC_BD</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="Model.FactorOracle.add_direct_transition">
<code class="descname">add_direct_transition</code><span class="sig-paren">(</span><em>index_state1</em>, <em>label</em>, <em>index_state2</em><span class="sig-paren">)</span><a class="headerlink" href="#Model.FactorOracle.add_direct_transition" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a transition labelled by ‘label’ from the state at index ‘index_state1’ to the state at index ‘index_state2’ in the Factor Oracle automaton.</p>
</dd></dl>

<dl class="method">
<dt id="Model.FactorOracle.add_factor_link">
<code class="descname">add_factor_link</code><span class="sig-paren">(</span><em>index_state1</em>, <em>label</em>, <em>index_state2</em><span class="sig-paren">)</span><a class="headerlink" href="#Model.FactorOracle.add_factor_link" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a factor link labelled by ‘label’ from the state at index ‘index_state1’ to the state at index ‘index_state2’ in the Factor Oracle automaton.</p>
</dd></dl>

<dl class="method">
<dt id="Model.FactorOracle.add_suffix_link">
<code class="descname">add_suffix_link</code><span class="sig-paren">(</span><em>index_state1</em>, <em>index_state2</em><span class="sig-paren">)</span><a class="headerlink" href="#Model.FactorOracle.add_suffix_link" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a suffix link (and the associated reverse suffix link) from the state at index ‘index_state1’ to the state at index ‘index_state2’ in the Factor Oracle automaton.</p>
</dd></dl>

<dl class="method">
<dt id="Model.FactorOracle.continuations">
<code class="descname">continuations</code><span class="sig-paren">(</span><em>index_state</em>, <em>forward_context_length_min=1</em>, <em>equiv=None</em>, <em>authorize_direct_transition=True</em><span class="sig-paren">)</span><a class="headerlink" href="#Model.FactorOracle.continuations" title="Permalink to this definition">¶</a></dt>
<dd><p>Possible continuations from the state at index index_state in the automaton, i.e. direct transition and states reached using suffix links and reverse suffix links.
These states follow states sharing a common backward context and a common forward context with the state at index index_state in the automaton. 
The lengths of the common backward contexts are given by the Factor Oracle automaton, the forward context is imposed by a parameter.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>index_state</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – start index</li>
<li><strong>forward_context_length_min</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – minimum length of the forward common context</li>
<li><strong>equiv</strong> (<em>function</em>) – Compararison function given as a lambda function, default: self.equiv.</li>
<li><strong>authorize_direct_transition</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – include direct transitions ?</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Indexes in the automaton of the possible continuations from the state at index index_state in the automaton.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)">list</a> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)">int</a>)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">See also:</th><td class="field-body"><p class="first"><strong>Tutorial in</strong> <code class="file docutils literal notranslate"><span class="pre">_Tutorials_/FactorOracleAutomaton_tutorial.py</span></code>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">!:</th><td class="field-body"><p class="first"><strong>equiv</strong> has to be consistent with the type of the elements in labels.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Example:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sequence</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A1&#39;</span><span class="p">,</span><span class="s1">&#39;B1&#39;</span><span class="p">,</span><span class="s1">&#39;B2&#39;</span><span class="p">,</span><span class="s1">&#39;C1&#39;</span><span class="p">,</span><span class="s1">&#39;A2&#39;</span><span class="p">,</span><span class="s1">&#39;B3&#39;</span><span class="p">,</span><span class="s1">&#39;C2&#39;</span><span class="p">,</span><span class="s1">&#39;D1&#39;</span><span class="p">,</span><span class="s1">&#39;A3&#39;</span><span class="p">,</span><span class="s1">&#39;B4&#39;</span><span class="p">,</span><span class="s1">&#39;C3&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">sequence</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">FON</span> <span class="o">=</span> <span class="n">FactorOracleNavigator</span><span class="p">(</span><span class="n">sequence</span><span class="p">,</span> <span class="n">labels</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">index</span> <span class="o">=</span> <span class="mi">6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">forward_context_length_min</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">continuations</span> <span class="o">=</span> <span class="n">FON</span><span class="o">.</span><span class="n">continuations</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">forward_context_length_min</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Possible continuations from state at index </span><span class="si">{}</span><span class="s2"> (with minimum forward context length = </span><span class="si">{}</span><span class="s2">): </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">forward_context_length_min</span><span class="p">,</span> <span class="n">continuations</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="Model.FactorOracle.continuations_with_label">
<code class="descname">continuations_with_label</code><span class="sig-paren">(</span><em>index_state</em>, <em>required_label</em>, <em>forward_context_length_min=1</em>, <em>equiv=None</em>, <em>authorize_direct_transition=True</em><span class="sig-paren">)</span><a class="headerlink" href="#Model.FactorOracle.continuations_with_label" title="Permalink to this definition">¶</a></dt>
<dd><p>Possible continuations labeled by required_label from the state at index index_state in the automaton.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>index_state</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – start index</li>
<li><strong>required_label</strong> – label to read</li>
<li><strong>forward_context_length_min</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – minimum length of the forward common context</li>
<li><strong>equiv</strong> (<em>function</em>) – Compararison function given as a lambda function, default: self.equiv.</li>
<li><strong>authorize_direct_transition</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – include direct transitions?</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Indexes in the automaton of the possible continuations labeled by required_label from the state at index index_state in the automaton.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)">list</a> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)">int</a>)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">See also:</th><td class="field-body"><p class="first">method from_state_read_label (class FactorOracle) used in the construction algorithm. Difference : only uses the direct transition and the suffix link leaving the state.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">!:</th><td class="field-body"><p class="first last"><strong>equiv</strong> has to be consistent with the type of the elements in labels.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Model.FactorOracle.follow_reverse_suffix_links_from">
<code class="descname">follow_reverse_suffix_links_from</code><span class="sig-paren">(</span><em>index_state</em><span class="sig-paren">)</span><a class="headerlink" href="#Model.FactorOracle.follow_reverse_suffix_links_from" title="Permalink to this definition">¶</a></dt>
<dd><p>Reverse suffix paths from a given index.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>index_state</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – start index</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Indexes in the automaton of the states that can be reached from the state at index index_state following reverse suffix links.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)">list</a> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)">int</a>)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Model.FactorOracle.follow_suffix_links_from">
<code class="descname">follow_suffix_links_from</code><span class="sig-paren">(</span><em>index_state</em>, <em>include_init_state=True</em><span class="sig-paren">)</span><a class="headerlink" href="#Model.FactorOracle.follow_suffix_links_from" title="Permalink to this definition">¶</a></dt>
<dd><p>Suffix path from a given index.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>index_state</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – start index</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Indexes in the automaton of the states that can be reached from the state at index index_state following suffix links.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)">list</a> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)">int</a>)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Model.FactorOracle.follow_suffix_links_then_reverse_from">
<code class="descname">follow_suffix_links_then_reverse_from</code><span class="sig-paren">(</span><em>index_state</em><span class="sig-paren">)</span><a class="headerlink" href="#Model.FactorOracle.follow_suffix_links_then_reverse_from" title="Permalink to this definition">¶</a></dt>
<dd><p>States that can be reached using suffix links from the state at index index_state, and then the reverse suffix links leaving these states.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>index_state</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – start index</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Indexes in the automaton of the states that can be reached using suffix links from the state at index index_state, and then the reverse suffix links leaving these states.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)">list</a> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)">int</a>)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Model.FactorOracle.from_state_read_label">
<code class="descname">from_state_read_label</code><span class="sig-paren">(</span><em>index_state</em>, <em>label</em>, <em>equiv=None</em>, <em>authorize_factor_links=True</em><span class="sig-paren">)</span><a class="headerlink" href="#Model.FactorOracle.from_state_read_label" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads label ‘label’ from state at index ‘index_state’.
First looks for a direct transition, then for a factor link (if authorized).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>index_state</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Initial state in the Factor Oracle automaton.</li>
<li><strong>label</strong> – Label to read.</li>
<li><strong>equiv</strong> (<em>function</em>) – Compararison function given as a lambda function, default if no parameter is given: self.equiv.</li>
<li><strong>authorize_factor_links</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – Only look for a direct transition (False) or also for a factor link (True).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Index where the transition leads (when it exists).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)">int</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Model.FactorOracle.init_model">
<code class="descname">init_model</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Model.FactorOracle.init_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Creation of the initial state of the Factor Oracle automaton. (“Empty”, no label, suffix links going “nowhere”)</p>
</dd></dl>

<dl class="method">
<dt id="Model.FactorOracle.is_recognized">
<code class="descname">is_recognized</code><span class="sig-paren">(</span><em>word</em>, <em>equiv=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Model.FactorOracle.is_recognized" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests if a word is recognized by the Factor Oracle automaton.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>word</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Input sequence</li>
<li><strong>equiv</strong> (<em>function</em>) – Compararison function given as a lambda function, default if no parameter is given: self.equiv.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">!:</th><td class="field-body"><p class="first"><strong>equiv</strong> has to be consistent with the type of label.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">See also:</th><td class="field-body"><p class="first"><strong>Tutorial in</strong> <code class="file docutils literal notranslate"><span class="pre">_Tutorials_/FactorOracleAutomaton_tutorial.py</span></code>.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Example:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sequence_FO</span> <span class="o">=</span> <span class="s2">&quot;AABBABCBBABAAB&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">FO</span> <span class="o">=</span> <span class="n">FactorOracle</span><span class="p">(</span><span class="n">sequence_FO</span><span class="p">,</span> <span class="n">sequence_FO</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sequence_input_1</span> <span class="o">=</span> <span class="s2">&quot;ABCB&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sequence_input_2</span> <span class="o">=</span> <span class="s2">&quot;BBBBBB&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> recognized by the Factor Oracle built on </span><span class="si">{}</span><span class="s2">?</span><span class="se">\n</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">sequence_input_1</span><span class="p">,</span><span class="n">sequence_FO</span><span class="p">,</span><span class="n">FO</span><span class="o">.</span><span class="n">is_recognized</span><span class="p">(</span><span class="n">sequence_input_1</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> recognized by the Factor Oracle built on </span><span class="si">{}</span><span class="s2">?</span><span class="se">\n</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">sequence_input_2</span><span class="p">,</span><span class="n">sequence_FO</span><span class="p">,</span><span class="n">FO</span><span class="o">.</span><span class="n">is_recognized</span><span class="p">(</span><span class="n">sequence_input_2</span><span class="p">)))</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="Model.FactorOracle.learn_event">
<code class="descname">learn_event</code><span class="sig-paren">(</span><em>state</em>, <em>label</em>, <em>equiv=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Model.FactorOracle.learn_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Learns (appends) a new state in the Factor Oracle automaton.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>state</strong> – </li>
<li><strong>label</strong> – </li>
<li><strong>equiv</strong> (<em>function</em>) – Compararison function given as a lambda function, default if no parameter is given: self.equiv.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">!:</th><td class="field-body"><p class="first last"><strong>equiv</strong> has to be consistent with the type of label.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Model.FactorOracle.print_model">
<code class="descname">print_model</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Model.FactorOracle.print_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Basic representation of a Factor Oracle automaton.</p>
</dd></dl>

<dl class="method">
<dt id="Model.FactorOracle.similar_backward_context">
<code class="descname">similar_backward_context</code><span class="sig-paren">(</span><em>index_state</em><span class="sig-paren">)</span><a class="headerlink" href="#Model.FactorOracle.similar_backward_context" title="Permalink to this definition">¶</a></dt>
<dd><p>Some states sharing a common (backward) context with the state at index index_state in the automaton.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>index_state</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – start index</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Indexes in the automaton of the states sharing a common (backward) context with the state at index index_state in the automaton.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)">list</a> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)">int</a>)</td>
</tr>
<tr class="field-even field"><th class="field-name">See also:</th><td class="field-body"><a class="reference external" href="https://hal.archives-ouvertes.fr/hal-01161388">https://hal.archives-ouvertes.fr/hal-01161388</a></td>
</tr>
<tr class="field-odd field"><th class="field-name">See also:</th><td class="field-body"><strong>Tutorial in</strong> <code class="file docutils literal notranslate"><span class="pre">_Tutorials_/FactorOracleAutomaton_tutorial.py</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Example:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sequence</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A1&#39;</span><span class="p">,</span><span class="s1">&#39;B1&#39;</span><span class="p">,</span><span class="s1">&#39;B2&#39;</span><span class="p">,</span><span class="s1">&#39;C1&#39;</span><span class="p">,</span><span class="s1">&#39;A2&#39;</span><span class="p">,</span><span class="s1">&#39;B3&#39;</span><span class="p">,</span><span class="s1">&#39;C2&#39;</span><span class="p">,</span><span class="s1">&#39;D1&#39;</span><span class="p">,</span><span class="s1">&#39;A3&#39;</span><span class="p">,</span><span class="s1">&#39;B4&#39;</span><span class="p">,</span><span class="s1">&#39;C3&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">sequence</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">FON</span> <span class="o">=</span> <span class="n">FactorOracleNavigator</span><span class="p">(</span><span class="n">sequence</span><span class="p">,</span> <span class="n">labels</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">index</span> <span class="o">=</span> <span class="mi">6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">similar_backward_context</span> <span class="o">=</span> <span class="n">FON</span><span class="o">.</span><span class="n">similar_backward_context</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Some states with backward context similar to that of state at index </span><span class="si">{}</span><span class="s2">: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">similar_backward_context</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="Model.FactorOracle.similar_contexts">
<code class="descname">similar_contexts</code><span class="sig-paren">(</span><em>index_state</em>, <em>forward_context_length_min=1</em>, <em>equiv=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Model.FactorOracle.similar_contexts" title="Permalink to this definition">¶</a></dt>
<dd><p>Some states sharing a common backward context and a common forward context with the state at index index_state in the automaton. 
The lengths of the common backward contexts are given by the Factor Oracle automaton, the forward context is imposed by a parameter.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>index_state</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – start index</li>
<li><strong>forward_context_length_min</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – minimum length of the forward common context</li>
<li><strong>equiv</strong> (<em>function</em>) – Compararison function given as a lambda function, default: self.equiv.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Indexes of the states in the automaton sharing a common backward context and a common forward context with the state at index index_state in the automaton.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)">list</a> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)">int</a>)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">See also:</th><td class="field-body"><p class="first"><strong>Tutorial in</strong> <code class="file docutils literal notranslate"><span class="pre">_Tutorials_/FactorOracleAutomaton_tutorial.py</span></code>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">!:</th><td class="field-body"><p class="first"><strong>equiv</strong> has to be consistent with the type of the elements in labels.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Example:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sequence</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A1&#39;</span><span class="p">,</span><span class="s1">&#39;B1&#39;</span><span class="p">,</span><span class="s1">&#39;B2&#39;</span><span class="p">,</span><span class="s1">&#39;C1&#39;</span><span class="p">,</span><span class="s1">&#39;A2&#39;</span><span class="p">,</span><span class="s1">&#39;B3&#39;</span><span class="p">,</span><span class="s1">&#39;C2&#39;</span><span class="p">,</span><span class="s1">&#39;D1&#39;</span><span class="p">,</span><span class="s1">&#39;A3&#39;</span><span class="p">,</span><span class="s1">&#39;B4&#39;</span><span class="p">,</span><span class="s1">&#39;C3&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">sequence</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">FON</span> <span class="o">=</span> <span class="n">FactorOracleNavigator</span><span class="p">(</span><span class="n">sequence</span><span class="p">,</span> <span class="n">labels</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">index</span> <span class="o">=</span> <span class="mi">6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">forward_context_length_min</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">similar_contexts</span> <span class="o">=</span> <span class="n">FON</span><span class="o">.</span><span class="n">similar_contexts</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">forward_context_length_min</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Some states with similar contexts (with minimum forward context length = </span><span class="si">{}</span><span class="s2">) to that of state at index </span><span class="si">{}</span><span class="s2">: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">forward_context_length_min</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">similar_contexts</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="Model.Model">
<em class="property">class </em><code class="descclassname">Model.</code><code class="descname">Model</code><span class="sig-paren">(</span><em>sequence=[]</em>, <em>labels=[]</em>, <em>equiv=&lt;function &lt;lambda&gt;&gt;</em>, <em>label_type=None</em>, <em>content_type=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Model.Model" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>The class <a class="reference internal" href="#Model.Model" title="Model.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a> is an <strong>abstract class</strong>. 
Any new model of sequence must inherit from this class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sequence</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – sequence learnt in the model.</li>
<li><strong>labels</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – sequence of labels chosen to describe the sequence.</li>
<li><strong>equiv</strong> (<em>function</em>) – compararison function given as a lambda function, default if no parameter is given: self.equiv.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">!:</th><td class="field-body"><p class="first last"><strong>equiv</strong> has to be consistent with the type of the elements in labels.</p>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="Model.Model.build">
<code class="descname">build</code><span class="sig-paren">(</span><em>sequence</em>, <em>labels</em><span class="sig-paren">)</span><a class="headerlink" href="#Model.Model.build" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds the model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sequence</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – sequence learnt in the model.</li>
<li><strong>labels</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – sequence of labels chosen to describe the sequence</li>
<li><strong>equiv</strong> (<em>function</em>) – Compararison function given as a lambda function, default if no parameter is given: self.equiv.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">!:</th><td class="field-body"><p class="first last"><strong>equiv</strong> has to be consistent with the type of the elements in labels.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Model.Model.index_last_state">
<code class="descname">index_last_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Model.Model.index_last_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Index of the last state in the model.</p>
</dd></dl>

<dl class="method">
<dt id="Model.Model.init_model">
<code class="descname">init_model</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Model.Model.init_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialization method called before learning the sequence in the model.</p>
</dd></dl>

<dl class="method">
<dt id="Model.Model.learn_event">
<code class="descname">learn_event</code><span class="sig-paren">(</span><em>state</em>, <em>label</em>, <em>equiv=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Model.Model.learn_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Learns (appends) a new state in the model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>state</strong> – </li>
<li><strong>label</strong> – </li>
<li><strong>equiv</strong> (<em>function</em>) – Compararison function given as a lambda function, default if no parameter is given: self.equiv.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">!:</th><td class="field-body"><p class="first last"><strong>equiv</strong> has to be consistent with the type of label.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Model.Model.learn_sequence">
<code class="descname">learn_sequence</code><span class="sig-paren">(</span><em>sequence</em>, <em>labels</em>, <em>equiv=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Model.Model.learn_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Learns (appends) a new sequence in the model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sequence</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – sequence learnt in the Factor Oracle automaton</li>
<li><strong>labels</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – sequence of labels chosen to describe the sequence</li>
<li><strong>equiv</strong> (<em>function</em>) – Compararison function given as a lambda function, default if no parameter is given: self.equiv.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">!:</th><td class="field-body"><p class="first last"><strong>equiv</strong> has to be consistent with the type of the elements in labels.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Model.Model.print_model">
<code class="descname">print_model</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Model.Model.print_model" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<span class="target" id="module-Navigator"></span><div class="section" id="navigator">
<h2>Navigator<a class="headerlink" href="#navigator" title="Permalink to this headline">¶</a></h2>
<p>This module defines parameters and methods to navigate through a symbolic sequence.
The classes defined in this module are used in association with models (cf. <a class="reference internal" href="#module-Model" title="Model"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Model</span></code></a>) when creating <strong>model navigator</strong> classes (cf. <code class="xref py py-mod docutils literal notranslate"><span class="pre">ModelNavigator</span></code>).</p>
<dl class="class">
<dt id="Navigator.Navigator">
<em class="property">class </em><code class="descclassname">Navigator.</code><code class="descname">Navigator</code><span class="sig-paren">(</span><em>sequence=[]</em>, <em>labels=[]</em>, <em>max_continuity=20</em>, <em>control_parameters=[]</em>, <em>execution_trace_parameters=[]</em>, <em>equiv=&lt;function &lt;lambda&gt;&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#Navigator.Navigator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>The class <a class="reference internal" href="#Navigator.Navigator" title="Navigator.Navigator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Navigator</span></code></a> implements <strong>parameters and methods that are used to navigate through a model of sequence</strong>. 
These parameters and methods are <strong>model-independent</strong>. 
This class defines in particular the naive versions of the methods <a class="reference internal" href="#Navigator.Navigator.simply_guided_navigation" title="Navigator.Navigator.simply_guided_navigation"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Navigator.simply_guided_navigation()</span></code></a> and <a class="reference internal" href="#Navigator.Navigator.free_navigation" title="Navigator.Navigator.free_navigation"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Navigator.free_navigation()</span></code></a> handling the navigation through a sequence when it is respectively guided by target labels and free.  
These methods are overloaded by model-dependant versions (and other model-dependent parameters or methods can be added) when creating a <strong>model navigator</strong> class (cf. <code class="xref py py-mod docutils literal notranslate"><span class="pre">ModelNavigator</span></code>). 
This class is not supposed to be used alone, only in association with a model within a model navigator. Therefore its attributes are only “flags” that can be used when defining a model navigator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sequence</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – sequence learnt in the model.</li>
<li><strong>labels</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – sequence of labels chosen to describe the sequence.</li>
<li><strong>equiv</strong> (<em>function</em>) – compararison function given as a lambda function, default if no parameter is given: self.equiv.</li>
<li><strong>current_navigation_index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – current length of the navigation</li>
<li><strong>current_position_in_sequence</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – current position of the readhead in the model. ** When this attribute receives a new value, <a class="reference internal" href="#Navigator.Navigator.record_execution_trace" title="Navigator.Navigator.record_execution_trace"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Navigator.record_execution_trace()</span></code></a> is called to update <code class="xref py py-attr docutils literal notranslate"><span class="pre">self.execution_trace</span></code>, and <a class="reference internal" href="#Navigator.Navigator.update_history_and_taboos" title="Navigator.Navigator.update_history_and_taboos"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Navigator.update_history_and_taboos()</span></code></a> is called to update <code class="xref py py-attr docutils literal notranslate"><span class="pre">self.history_and_taboos</span></code>.**</li>
<li><strong>current_continuity</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – current number of consecutive elements retrieved in the sequence at the current step of generation</li>
<li><strong>max_continuity</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – limitation of the length of the sub-sequences that can be retrieved from the sequence.</li>
<li><strong>no_empty_event</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – authorize or not to output empty events.</li>
<li><strong>avoid_repetitions_mode</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – 0: authorize repetitions; 1: favor less previously retrieved events; 2: forbid repetitions.</li>
<li><strong>control_parameters</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em>(</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>)</em>) – list of the slots of the class that are considered as “control parameters” i.e. that can be used by a user to author / monitor the generation processes.</li>
<li><strong>execution_trace_parameters</strong> – list of the slots of the class that are stored in the execution trace used in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Generator.go_to_anterior_state_using_execution_trace()</span></code>.</li>
<li><strong>execution_trace</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a>) – History of the previous runs of the generation model. The list of the parameters of the model whose values are stored in the execution trace is defined in <code class="xref py py-attr docutils literal notranslate"><span class="pre">self.execution_trace_parameters</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="Navigator.Navigator.authorize_indexes">
<code class="descname">authorize_indexes</code><span class="sig-paren">(</span><em>indexes</em><span class="sig-paren">)</span><a class="headerlink" href="#Navigator.Navigator.authorize_indexes" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the “taboos” (events that cannot be retrieved) in the navigation mechanisms for the states listed in the parameter indexes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>indexes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em>(</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>)</em>) – indexes of authorized indexes (/!depending on the model the first event can be at index 0 or 1).</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Navigator.Navigator.delete_taboos">
<code class="descname">delete_taboos</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Navigator.Navigator.delete_taboos" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete all the “taboos” (events that cannot be retrieved) in the navigation mechanisms.</p>
</dd></dl>

<dl class="method">
<dt id="Navigator.Navigator.filter_using_history_and_taboos">
<code class="descname">filter_using_history_and_taboos</code><span class="sig-paren">(</span><em>list_of_indexes</em><span class="sig-paren">)</span><a class="headerlink" href="#Navigator.Navigator.filter_using_history_and_taboos" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Navigator.Navigator.find_matching_label_without_continuation">
<code class="descname">find_matching_label_without_continuation</code><span class="sig-paren">(</span><em>required_label</em>, <em>authorized_indexes</em>, <em>equiv=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Navigator.Navigator.find_matching_label_without_continuation" title="Permalink to this definition">¶</a></dt>
<dd><p>Random state in the sequence matching required_label if self.no_empty_event is True (else None).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>required_label</strong> – label to read</li>
<li><strong>authorized_indexes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em>(</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>)</em>) – list of authorized indexes to filter taboos, repetitions, and label when needed.</li>
<li><strong>equiv</strong> (<em>function</em>) – Compararison function given as a lambda function, default: self.equiv.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">index of the state</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)">int</a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">!:</th><td class="field-body"><p class="first last"><strong>equiv</strong> has to be consistent with the type of the elements in labels.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Navigator.Navigator.forbid_indexes">
<code class="descname">forbid_indexes</code><span class="sig-paren">(</span><em>indexes</em><span class="sig-paren">)</span><a class="headerlink" href="#Navigator.Navigator.forbid_indexes" title="Permalink to this definition">¶</a></dt>
<dd><p>Introduces “taboos” (events that cannot be retrieved) in the navigation mechanisms.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>indexes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em>(</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>)</em>) – indexes of forbidden indexes (/!depending on the model the first event can be at index 0 or 1).</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Navigator.Navigator.free_generation">
<code class="descname">free_generation</code><span class="sig-paren">(</span><em>length</em>, <em>new_max_continuity=None</em>, <em>forward_context_length_min=0</em>, <em>init=False</em>, <em>equiv=None</em>, <em>print_info=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Navigator.Navigator.free_generation" title="Permalink to this definition">¶</a></dt>
<dd><p>Free navigation through the sequence. 
Naive version of the method handling the free navigation in a sequence (random). 
This method has to be overloaded by a model-dependant version when creating a <strong>model navigator</strong> class (cf. <code class="xref py py-mod docutils literal notranslate"><span class="pre">ModelNavigator</span></code>).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – length of the generated sequence</li>
<li><strong>new_max_continuity</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – new value for self.max_continuity (not changed id no parameter is given)</li>
<li><strong>forward_context_length_min</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – minimum length of the forward common context</li>
<li><strong>init</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – reinitialise the navigation parameters ?, default : False. (True when starting a new generation)</li>
<li><strong>equiv</strong> (<em>function</em>) – Compararison function given as a lambda function, default: self.equiv.</li>
<li><strong>print_info</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – print the details of the navigation steps</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">generated sequence</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)">list</a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">See also:</th><td class="field-body"><p class="first">Example of overloaded method: <code class="xref py py-meth docutils literal notranslate"><span class="pre">FactorOracleNavigator.free_navigation()</span></code>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">!:</th><td class="field-body"><p class="first"><strong>equiv</strong> has to be consistent with the type of the elements in labels.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">!:</th><td class="field-body"><p class="first last">The result <strong>strongly depends</strong> on the tuning of the parameters self.max_continuity, self.avoid_repetitions_mode, self.no_empty_event.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Navigator.Navigator.free_navigation">
<code class="descname">free_navigation</code><span class="sig-paren">(</span><em>length</em>, <em>new_max_continuity=None</em>, <em>forward_context_length_min=0</em>, <em>init=False</em>, <em>equiv=None</em>, <em>print_info=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Navigator.Navigator.free_navigation" title="Permalink to this definition">¶</a></dt>
<dd><p>Free navigation through the sequence. 
Naive version of the method handling the free navigation in a sequence (random). 
This method has to be overloaded by a model-dependant version when creating a <strong>model navigator</strong> class (cf. <code class="xref py py-mod docutils literal notranslate"><span class="pre">ModelNavigator</span></code>).
(Returns a <strong>path</strong>, i.e., a list of indexes. Generated sequence: cf. <a class="reference internal" href="#Navigator.Navigator.free_generation" title="Navigator.Navigator.free_generation"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Navigator.free_generation()</span></code></a>.)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – length of the generated sequence</li>
<li><strong>new_max_continuity</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – new value for self.max_continuity (not changed id no parameter is given)</li>
<li><strong>forward_context_length_min</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – minimum length of the forward common context</li>
<li><strong>init</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – reinitialise the navigation parameters ?, default : False. (True when starting a new generation)</li>
<li><strong>equiv</strong> (<em>function</em>) – Compararison function given as a lambda function, default: self.equiv.</li>
<li><strong>print_info</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – print the details of the navigation steps</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of indexes of the generated path.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)">list</a> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)">int</a>)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">See also:</th><td class="field-body"><p class="first"><a class="reference internal" href="#Navigator.Navigator.free_generation" title="Navigator.Navigator.free_generation"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Navigator.free_generation()</span></code></a>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">See also:</th><td class="field-body"><p class="first">Example of overloaded method: <code class="xref py py-meth docutils literal notranslate"><span class="pre">FactorOracleNavigator.free_navigation()</span></code>.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">!:</th><td class="field-body"><p class="first"><strong>equiv</strong> has to be consistent with the type of the elements in labels.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">!:</th><td class="field-body"><p class="first last">The result <strong>strongly depends</strong> on the tuning of the parameters self.max_continuity, self.avoid_repetitions_mode, self.no_empty_event.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Navigator.Navigator.go_to_anterior_state_using_execution_trace">
<code class="descname">go_to_anterior_state_using_execution_trace</code><span class="sig-paren">(</span><em>index_in_navigation</em><span class="sig-paren">)</span><a class="headerlink" href="#Navigator.Navigator.go_to_anterior_state_using_execution_trace" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is called when the run of a new query rewrites previously generated anticipations.
It uses <code class="xref py py-attr docutils literal notranslate"><span class="pre">self.execution_trace</span></code> to go back at the state where the navigator was at the “tiling time”.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>index_in_navigation</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – “tiling index” in the generated sequence</td>
</tr>
<tr class="field-even field"><th class="field-name">See also:</th><td class="field-body">The list of the parameters of the model whose values are stored in the execution trace is defined in <code class="xref py py-attr docutils literal notranslate"><span class="pre">self.execution_trace_parameters</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Navigator.Navigator.is_taboo">
<code class="descname">is_taboo</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#Navigator.Navigator.is_taboo" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Navigator.Navigator.learn_event">
<code class="descname">learn_event</code><span class="sig-paren">(</span><em>state</em>, <em>label</em>, <em>equiv=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Navigator.Navigator.learn_event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Navigator.Navigator.learn_sequence">
<code class="descname">learn_sequence</code><span class="sig-paren">(</span><em>sequence</em>, <em>labels</em>, <em>equiv=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Navigator.Navigator.learn_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Learns (appends) a new sequence in the model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sequence</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – sequence learnt in the Factor Oracle automaton</li>
<li><strong>labels</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – sequence of labels chosen to describe the sequence</li>
<li><strong>equiv</strong> (<em>function</em>) – Compararison function given as a lambda function, default if no parameter is given: self.equiv.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">!:</th><td class="field-body"><p class="first last"><strong>equiv</strong> has to be consistent with the type of the elements in labels.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Navigator.Navigator.length_common_backward_context">
<code class="descname">length_common_backward_context</code><span class="sig-paren">(</span><em>index_state1</em>, <em>index_state2</em>, <em>equiv=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Navigator.Navigator.length_common_backward_context" title="Permalink to this definition">¶</a></dt>
<dd><p>Length of the backward context shared by two states in the sequence.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>equiv</strong> (<em>function</em>) – Compararison function given as a lambda function, default: self.equiv.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Length of the longest equivalent sequences of labels before these states.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)">int</a></td>
</tr>
<tr class="field-even field"><th class="field-name">!:</th><td class="field-body"><strong>equiv</strong> has to be consistent with the type of the elements in labels.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Navigator.Navigator.length_common_forward_context">
<code class="descname">length_common_forward_context</code><span class="sig-paren">(</span><em>index_state1</em>, <em>index_state2</em>, <em>equiv=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Navigator.Navigator.length_common_forward_context" title="Permalink to this definition">¶</a></dt>
<dd><p>Length of the forward context shared by two states in the sequence.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>equiv</strong> (<em>function</em>) – Compararison function given as a lambda function, default: self.equiv.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Length of the longest equivalent sequences of labels after these states.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)">int</a></td>
</tr>
<tr class="field-even field"><th class="field-name">!:</th><td class="field-body"><strong>equiv</strong> has to be consistent with the type of the elements in labels.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Navigator.Navigator.navigate_without_continuation">
<code class="descname">navigate_without_continuation</code><span class="sig-paren">(</span><em>authorized_indexes</em><span class="sig-paren">)</span><a class="headerlink" href="#Navigator.Navigator.navigate_without_continuation" title="Permalink to this definition">¶</a></dt>
<dd><p>Random state in the sequence if self.no_empty_event is True (else None).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>authorized_indexes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em>(</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>)</em>) – list of authorized indexes to filter taboos, repetitions, and label when needed.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">index of the state</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)">int</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Navigator.Navigator.record_execution_trace">
<code class="descname">record_execution_trace</code><span class="sig-paren">(</span><em>index_in_navigation</em><span class="sig-paren">)</span><a class="headerlink" href="#Navigator.Navigator.record_execution_trace" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores in <code class="xref py py-attr docutils literal notranslate"><span class="pre">self.execution_trace</span></code> the values of different parameters of the model when generating the event in the sequence at the index given in argument.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>index_in_navigation</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">See also:</th><td class="field-body">The list of the parameters of the model whose values are stored in the execution trace is defined in <code class="xref py py-attr docutils literal notranslate"><span class="pre">self.execution_trace_parameters</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Navigator.Navigator.reinit_navigation_param">
<code class="descname">reinit_navigation_param</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Navigator.Navigator.reinit_navigation_param" title="Permalink to this definition">¶</a></dt>
<dd><p>(Re)initializes the navigation parameters (current navigation index, history of retrieved indexes, current continuity,…).</p>
</dd></dl>

<dl class="method">
<dt id="Navigator.Navigator.simply_guided_generation">
<code class="descname">simply_guided_generation</code><span class="sig-paren">(</span><em>required_labels</em>, <em>new_max_continuity=None</em>, <em>forward_context_length_min=0</em>, <em>init=False</em>, <em>equiv=None</em>, <em>print_info=False</em>, <em>shift_index=0</em>, <em>break_when_none=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Navigator.Navigator.simply_guided_generation" title="Permalink to this definition">¶</a></dt>
<dd><p>Navigation in the sequence, simply guided step by step by an input sequence of label.
Naive version of the method handling the navigation in a sequence when it is guided by target labels. 
This method has to be overloaded by a model-dependant version when creating a <strong>model navigator</strong> class (cf. <code class="xref py py-mod docutils literal notranslate"><span class="pre">ModelNavigator</span></code>).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>required_labels</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) – guiding sequence of labels</li>
<li><strong>new_max_continuity</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – new value for self.max_continuity (not changed id no parameter is given)</li>
<li><strong>forward_context_length_min</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – minimum length of the forward common context</li>
<li><strong>init</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – reinitialise the navigation parameters ?, default : False. (True when starting a new generation)</li>
<li><strong>equiv</strong> (<em>function</em>) – Compararison function given as a lambda function, default: self.equiv.</li>
<li><strong>print_info</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – print the details of the navigation steps</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">generated sequence</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)">list</a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">See also:</th><td class="field-body"><p class="first">Example of overloaded method: <code class="xref py py-meth docutils literal notranslate"><span class="pre">FactorOracleNavigator.free_navigation()</span></code>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">!:</th><td class="field-body"><p class="first"><strong>equiv</strong> has to be consistent with the type of the elements in labels.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">!:</th><td class="field-body"><p class="first last">The result <strong>strongly depends</strong> on the tuning of the parameters self.max_continuity, self.avoid_repetitions_mode, self.no_empty_event.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Navigator.Navigator.simply_guided_navigation">
<code class="descname">simply_guided_navigation</code><span class="sig-paren">(</span><em>required_labels</em>, <em>new_max_continuity=None</em>, <em>forward_context_length_min=0</em>, <em>init=False</em>, <em>equiv=None</em>, <em>print_info=False</em>, <em>shift_index=0</em>, <em>break_when_none=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Navigator.Navigator.simply_guided_navigation" title="Permalink to this definition">¶</a></dt>
<dd><p>Navigation through the sequence, simply guided step by step by an input sequence of label.
Naive version of the method handling the guided navigation in a sequence. 
This method has to be overloaded by a model-dependant version when creating a <strong>model navigator</strong> class (cf. <code class="xref py py-mod docutils literal notranslate"><span class="pre">ModelNavigator</span></code>).
(Returns a <strong>path</strong>, i.e., a list of indexes. Generated sequence: cf. <a class="reference internal" href="#Navigator.Navigator.simply_guided_generation" title="Navigator.Navigator.simply_guided_generation"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Navigator.simply_guided_generation()</span></code></a>.)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>required_labels</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) – guiding sequence of labels</li>
<li><strong>new_max_continuity</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – new value for self.max_continuity (not changed id no parameter is given)</li>
<li><strong>forward_context_length_min</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – minimum length of the forward common context</li>
<li><strong>init</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – reinitialise the navigation parameters ?, default : False. (True when starting a new generation)</li>
<li><strong>equiv</strong> (<em>function</em>) – Compararison function given as a lambda function, default: self.equiv.</li>
<li><strong>print_info</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – print the details of the navigation steps</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of indexes of the generated path.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)">list</a> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)">int</a>)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">See also:</th><td class="field-body"><p class="first"><a class="reference internal" href="#Navigator.Navigator.simply_guided_generation" title="Navigator.Navigator.simply_guided_generation"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Navigator.simply_guided_generation()</span></code></a>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">See also:</th><td class="field-body"><p class="first">Example of overloaded method: <code class="xref py py-meth docutils literal notranslate"><span class="pre">FactorOracleNavigator.simply_guided_navigation()</span></code>.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">!:</th><td class="field-body"><p class="first"><strong>equiv</strong> has to be consistent with the type of the elements in labels.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">!:</th><td class="field-body"><p class="first last">The result <strong>strongly depends</strong> on the tuning of the parameters self.max_continuity, self.avoid_repetitions_mode, self.no_empty_event.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Navigator.Navigator.update_history_and_taboos">
<code class="descname">update_history_and_taboos</code><span class="sig-paren">(</span><em>index_in_sequence</em><span class="sig-paren">)</span><a class="headerlink" href="#Navigator.Navigator.update_history_and_taboos" title="Permalink to this definition">¶</a></dt>
<dd><p>Increases the value associated to the index given in argument in <code class="xref py py-attr docutils literal notranslate"><span class="pre">self.history_and_taboos</span></code>.
Handles the taboos linked to <code class="xref py py-attr docutils literal notranslate"><span class="pre">self.max_continuity</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>index_in_sequence</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – </td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<span class="target" id="module-MetaModelNavigator"></span><div class="section" id="meta-model-navigator">
<h2>Meta Model Navigator<a class="headerlink" href="#meta-model-navigator" title="Permalink to this headline">¶</a></h2>
<p>This module defines the main tool to create a new class of <strong>model navigator</strong>: the metaclass <a class="reference internal" href="#MetaModelNavigator.MetaModelNavigator" title="MetaModelNavigator.MetaModelNavigator"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetaModelNavigator</span></code></a>.
A model navigator is a class that implements different algorithms, strategies, and heuristics to navigate through a given model of sequence for analysis or creative applications, for example <strong>generating new sequences using concatenative synthesis of events learned in the model</strong>. 
The creation of the class <a class="reference internal" href="#ModelNavigator.FactorOracleNavigator" title="ModelNavigator.FactorOracleNavigator"><code class="xref py py-class docutils literal notranslate"><span class="pre">FactorOracleNavigator</span></code></a> in the file <code class="file docutils literal notranslate"><span class="pre">ModelNavigator.py</span></code> can be considered as a tutorial for the metaclass <a class="reference internal" href="#MetaModelNavigator.MetaModelNavigator" title="MetaModelNavigator.MetaModelNavigator"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetaModelNavigator</span></code></a>.
When the whole library is loaded, the global dict <em>implemented_model_navigator_classes</em> automatically stores the different classes of model navigators available.</p>
<dl class="class">
<dt id="MetaModelNavigator.MetaModelNavigator">
<em class="property">class </em><code class="descclassname">MetaModelNavigator.</code><code class="descname">MetaModelNavigator</code><span class="sig-paren">(</span><em>name</em>, <em>bases</em>, <em>dict_methods</em><span class="sig-paren">)</span><a class="headerlink" href="#MetaModelNavigator.MetaModelNavigator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">type</span></code></a></p>
<p><a class="reference internal" href="#MetaModelNavigator.MetaModelNavigator" title="MetaModelNavigator.MetaModelNavigator"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetaModelNavigator</span></code></a> is a <strong>metaclass</strong>. 
A new class created using this metaclass is a <strong>model navigator</strong> and inherits from: 
<strong>1)</strong> a class inheriting from <a class="reference internal" href="#Model.Model" title="Model.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a>, <strong>2)</strong> a class inheriting from <a class="reference internal" href="#Navigator.Navigator" title="Navigator.Navigator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Navigator</span></code></a>. 
The class <code class="xref py py-class docutils literal notranslate"><span class="pre">FactorOracleNavigator</span></code> introduced below is an example of model navigator created using this metaclass.</p>
<p>The definition of a new class of model navigator using this metaclass is quite easy: 
1) chose two bases (a <strong>model</strong> inheriting from <a class="reference internal" href="#Model.Model" title="Model.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a>, a navigator inheriting from <a class="reference internal" href="#Navigator.Navigator" title="Navigator.Navigator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Navigator</span></code></a>), 
2) define the methods to overload <code class="xref py py-meth docutils literal notranslate"><span class="pre">Navigator.simply_guided_navigation()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">Navigator.free_navigation()</span></code>,
3) (optional) define other model-dependent slots and methods.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1">#### Creation of a new class of model navigator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Define the 2 bases inheriting from the classes Model and Navigator respectively</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tuple_bases</span> <span class="o">=</span> <span class="p">(</span><span class="n">MyModel</span><span class="p">,</span> <span class="n">MyNavigator</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Define methods to overload Navigator.free_navigation() and Navigator.simply_guided_navigation()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># (and other methods, including __init__ if needed)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">free_navigation</span><span class="p">(</span><span class="n">my_model_navigator</span><span class="p">,</span> <span class="n">length</span><span class="p">,</span> <span class="n">new_max_continuity</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">forward_context_length_min</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">init</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">equiv</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">print_info</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">simply_guided_navigation</span><span class="p">(</span><span class="n">factor_oracle_navigator</span><span class="p">,</span> <span class="n">required_labels</span><span class="p">,</span> <span class="n">new_max_continuity</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">forward_context_length_min</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">init</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">equiv</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">print_info</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">shift_index</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">break_when_none</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_methods</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;free_navigation&quot;</span> <span class="p">:</span> <span class="n">free_navigation</span><span class="p">,</span> <span class="s2">&quot;simply_guided_navigation&quot;</span> <span class="p">:</span> <span class="n">simply_guided_navigation</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Creation of the new class of model navigator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">MyModelNavigator</span> <span class="o">=</span> <span class="n">MetaModelNavigator</span><span class="p">(</span><span class="s2">&quot;MyModelNavigator&quot;</span><span class="p">,</span> <span class="n">tuple_bases</span><span class="p">,</span> <span class="n">dict_methods</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">See also:</th><td class="field-body"><strong>The creation of the class</strong> <a class="reference internal" href="#ModelNavigator.FactorOracleNavigator" title="ModelNavigator.FactorOracleNavigator"><code class="xref py py-class docutils literal notranslate"><span class="pre">FactorOracleNavigator</span></code></a> <strong>in the file</strong> <code class="file docutils literal notranslate"><span class="pre">ModelNavigator.py</span></code> <strong>can be considered as a tutorial</strong>.</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="factor-oracle-navigator">
<h2>Factor Oracle Navigator<a class="headerlink" href="#factor-oracle-navigator" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ModelNavigator.FactorOracleNavigator">
<em class="property">class </em><code class="descclassname">ModelNavigator.</code><code class="descname">FactorOracleNavigator</code><span class="sig-paren">(</span><em>sequence=[]</em>, <em>labels=[]</em>, <em>max_continuity=20</em>, <em>control_parameters=[]</em>, <em>history_parameters=[]</em>, <em>equiv=&lt;function &lt;lambda&gt;&gt;</em>, <em>label_type=None</em>, <em>content_type=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ModelNavigator.FactorOracleNavigator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Model.FactorOracle" title="Model.FactorOracle"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model.FactorOracle</span></code></a>, <a class="reference internal" href="#Navigator.Navigator" title="Navigator.Navigator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Navigator.Navigator</span></code></a></p>
<p><strong>Factor Oracle Navigator class</strong>.
This class implements heuristics of navigation through a Factor Oracle automaton for creative applications: 
different ways to find paths in the labels of the automaton to collect the associated contents and generate new sequences using concatenative synthesis.
Original navigation heuristics, see <strong>Assayag, Bloch, “Navigating the Oracle: a heuristic approach”, in Proceedings of the International Computer Music Conference 2007</strong> (<a class="reference external" href="https://hal.archives-ouvertes.fr/hal-01161388">https://hal.archives-ouvertes.fr/hal-01161388</a>).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">See also:</th><td class="field-body"><strong>Tutorial in</strong> <code class="file docutils literal notranslate"><span class="pre">_Tutorials_/FactorOracleNavigator_tutorial.py</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">See also:</th><td class="field-body">This “model navigator” class is created with the metaclass <a class="reference internal" href="#MetaModelNavigator.MetaModelNavigator" title="MetaModelNavigator.MetaModelNavigator"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetaModelNavigator</span></code></a>.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sequence</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A1&#39;</span><span class="p">,</span><span class="s1">&#39;B1&#39;</span><span class="p">,</span><span class="s1">&#39;B2&#39;</span><span class="p">,</span><span class="s1">&#39;C1&#39;</span><span class="p">,</span><span class="s1">&#39;A2&#39;</span><span class="p">,</span><span class="s1">&#39;B3&#39;</span><span class="p">,</span><span class="s1">&#39;C2&#39;</span><span class="p">,</span><span class="s1">&#39;D1&#39;</span><span class="p">,</span><span class="s1">&#39;A3&#39;</span><span class="p">,</span><span class="s1">&#39;B4&#39;</span><span class="p">,</span><span class="s1">&#39;C3&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">sequence</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">FON</span> <span class="o">=</span> <span class="n">FactorOracleNavigator</span><span class="p">(</span><span class="n">sequence</span><span class="p">,</span> <span class="n">labels</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="ModelNavigator.FactorOracleNavigator.continuations_with_jump">
<code class="descname">continuations_with_jump</code><span class="sig-paren">(</span><em>authorized_indexes</em><span class="sig-paren">)</span><a class="headerlink" href="#ModelNavigator.FactorOracleNavigator.continuations_with_jump" title="Permalink to this definition">¶</a></dt>
<dd><p>List of continuations with jumps to indexes with similar contexts direct transition from self.current_position_in_sequence.</p>
<p>In the method free_generation, this method is called with authorized_indexes = possible continuations filtered to satisfy the constraints of taboos and repetitions.
In the method simply_guided_generation, this method is called with authorized_indexes = possible continuations <strong>matching the required label</strong> filtered to satisfy the constraints of taboos and repetitions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>authorized_indexes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em>(</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>)</em>) – list of authorized indexes to filter taboos, repetitions, and label when needed.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">indexes of the states</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)">list</a>(<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)">int</a>)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ModelNavigator.FactorOracleNavigator.filtered_continuations">
<code class="descname">filtered_continuations</code><span class="sig-paren">(</span><em>index_state</em>, <em>forward_context_length_min=0</em>, <em>equiv=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ModelNavigator.FactorOracleNavigator.filtered_continuations" title="Permalink to this definition">¶</a></dt>
<dd><p>Continuations from the state at index index_state in the automaton (see method continuations), and filtered continuations satisfying the constraints of taboos and repetitions (cf. FactorOracleNavigator.history_and_taboos and FactorOracleNavigator.avoid_repetitions_mode).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>index_state</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – start index</li>
<li><strong>required_label</strong> – label to read (optional)</li>
<li><strong>forward_context_length_min</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – minimum length of the forward common context</li>
<li><strong>equiv</strong> (<em>function</em>) – Compararison function given as a lambda function, default: factor_oracle_navigator.equiv.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Indexes in the automaton of the possible continuations from the state at index index_state in the automaton.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.6)">tuple</a>(<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)">list</a> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)">int</a>), <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)">list</a> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)">int</a>))</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">See also:</th><td class="field-body"><p class="first">FactorOracleNavigator.continuations(…)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">!:</th><td class="field-body"><p class="first last"><strong>equiv</strong> has to be consistent with the type of the elements in labels.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ModelNavigator.FactorOracleNavigator.filtered_continuations_with_label">
<code class="descname">filtered_continuations_with_label</code><span class="sig-paren">(</span><em>index_state</em>, <em>required_label</em>, <em>forward_context_length_min=0</em>, <em>equiv=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ModelNavigator.FactorOracleNavigator.filtered_continuations_with_label" title="Permalink to this definition">¶</a></dt>
<dd><p>Continuations labeled by required_label from the state at index index_state in the automaton (see method continuations), and filtered continuations satisfying the constraints of taboos and repetitions (cf. FactorOracleNavigator.history_and_taboos and FactorOracleNavigator.avoid_repetitions_mode).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>index_state</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – start index</li>
<li><strong>required_label</strong> – label to read</li>
<li><strong>forward_context_length_min</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – minimum length of the forward common context</li>
<li><strong>equiv</strong> (<em>function</em>) – Compararison function given as a lambda function, default: factor_oracle_navigator.equiv.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Indexes in the automaton of the possible continuations from the state at index index_state in the automaton.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.6)">tuple</a>(<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)">list</a> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)">int</a>), <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)">list</a> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)">int</a>))</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">See also:</th><td class="field-body"><p class="first">FactorOracleNavigator.continuations_with_label(…)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">!:</th><td class="field-body"><p class="first last"><strong>equiv</strong> has to be consistent with the type of the elements in labels.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ModelNavigator.FactorOracleNavigator.follow_continuation_using_transition">
<code class="descname">follow_continuation_using_transition</code><span class="sig-paren">(</span><em>authorized_indexes</em><span class="sig-paren">)</span><a class="headerlink" href="#ModelNavigator.FactorOracleNavigator.follow_continuation_using_transition" title="Permalink to this definition">¶</a></dt>
<dd><p>Continuation using direct transition from self.current_position_in_sequence.</p>
<p>In the method free_generation, this method is called with authorized_indexes = possible continuations filtered to satisfy the constraints of taboos and repetitions.
In the method simply_guided_generation, this method is called with authorized_indexes = possible continuations <strong>matching the required label</strong> filtered to satisfy the constraints of taboos and repetitions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>authorized_indexes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em>(</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>)</em>) – list of authorized indexes to filter taboos, repetitions, and label when needed.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">index of the state</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)">int</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ModelNavigator.FactorOracleNavigator.follow_continuation_with_jump">
<code class="descname">follow_continuation_with_jump</code><span class="sig-paren">(</span><em>authorized_indexes</em><span class="sig-paren">)</span><a class="headerlink" href="#ModelNavigator.FactorOracleNavigator.follow_continuation_with_jump" title="Permalink to this definition">¶</a></dt>
<dd><p>Random selection of a continuation with jump to indexes with similar contexts direct transition from self.current_position_in_sequence.</p>
<p>In the method free_generation, this method is called with authorized_indexes = possible continuations filtered to satisfy the constraints of taboos and repetitions.
In the method simply_guided_generation, this method is called with authorized_indexes = possible continuations <strong>matching the required label</strong> filtered to satisfy the constraints of taboos and repetitions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>authorized_indexes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em>(</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>)</em>) – list of authorized indexes to filter taboos, repetitions, and label when needed.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">index of the state</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)">int</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ModelNavigator.FactorOracleNavigator.free_navigation">
<code class="descname">free_navigation</code><span class="sig-paren">(</span><em>length</em>, <em>new_max_continuity=None</em>, <em>forward_context_length_min=0</em>, <em>init=False</em>, <em>equiv=None</em>, <em>print_info=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ModelNavigator.FactorOracleNavigator.free_navigation" title="Permalink to this definition">¶</a></dt>
<dd><p>Free navigation through the automaton. 
Returns a novel sequence being consistent with the internal logic of the sequence on which the automaton is built.
(Returns a <strong>path</strong>, i.e., a list of indexes. Generated sequence: cf. <code class="xref py py-meth docutils literal notranslate"><span class="pre">Navigator.free_generation()</span></code>.)</p>
<p>“Omax-like” navigation, see <strong>Assayag, Bloch, Chemillier, Cont, Dubnov “Omax brothers: A dynamic topology of agents for improvization learning”, in Proceedings of the 1st ACM Workshop on Audio and Music Computing Multimedia</strong> (<a class="reference external" href="https://hal.archives-ouvertes.fr/hal-01161351">https://hal.archives-ouvertes.fr/hal-01161351</a>).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – length of the generated sequence</li>
<li><strong>new_max_continuity</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – new value for self.max_continuity (not changed if no parameter is given)</li>
<li><strong>forward_context_length_min</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – minimum length of the forward common context</li>
<li><strong>init</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – reinitialise the navigation parameters ?, default : False. (True when starting a new generation)</li>
<li><strong>equiv</strong> (<em>function</em>) – Compararison function given as a lambda function, default: self.equiv.</li>
<li><strong>print_info</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – print the details of the navigation steps</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of indexes of the generated path.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)">list</a> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)">int</a>)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">See also:</th><td class="field-body"><p class="first"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Navigator.free_generation()</span></code></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">See also:</th><td class="field-body"><p class="first">Tutorial in FactorOracleNavigator_tutorial.py.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">!:</th><td class="field-body"><p class="first"><strong>equiv</strong> has to be consistent with the type of the elements in labels.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">!:</th><td class="field-body"><p class="first">The result <strong>strongly depends</strong> on the tuning of the parameters self.max_continuity, self.avoid_repetitions_mode, self.no_empty_event.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Example:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sequence</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A1&#39;</span><span class="p">,</span><span class="s1">&#39;B1&#39;</span><span class="p">,</span><span class="s1">&#39;B2&#39;</span><span class="p">,</span><span class="s1">&#39;C1&#39;</span><span class="p">,</span><span class="s1">&#39;A2&#39;</span><span class="p">,</span><span class="s1">&#39;B3&#39;</span><span class="p">,</span><span class="s1">&#39;C2&#39;</span><span class="p">,</span><span class="s1">&#39;D1&#39;</span><span class="p">,</span><span class="s1">&#39;A3&#39;</span><span class="p">,</span><span class="s1">&#39;B4&#39;</span><span class="p">,</span><span class="s1">&#39;C3&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">sequence</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">FON</span> <span class="o">=</span> <span class="n">FactorOracleNavigator</span><span class="p">(</span><span class="n">sequence</span><span class="p">,</span> <span class="n">labels</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">FON</span><span class="o">.</span><span class="n">current_position_in_sequence</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FON</span><span class="o">.</span><span class="n">index_last_state</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">FON</span><span class="o">.</span><span class="n">avoid_repetitions_mode</span> <span class="o">=</span> <span class="mi">1</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">FON</span><span class="o">.</span><span class="n">max_continuity</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">forward_context_length_min</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">generated_sequence</span> <span class="o">=</span> <span class="n">FON</span><span class="o">.</span><span class="n">free_generation</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">forward_context_length_min</span> <span class="o">=</span> <span class="n">forward_context_length_min</span><span class="p">,</span> <span class="n">print_info</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="ModelNavigator.FactorOracleNavigator.reinit_navigation_param">
<code class="descname">reinit_navigation_param</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ModelNavigator.FactorOracleNavigator.reinit_navigation_param" title="Permalink to this definition">¶</a></dt>
<dd><p>(Re)initializes the navigation parameters (current navigation index, history of retrieved indexes, current continuity,…).</p>
</dd></dl>

<dl class="method">
<dt id="ModelNavigator.FactorOracleNavigator.simply_guided_navigation">
<code class="descname">simply_guided_navigation</code><span class="sig-paren">(</span><em>required_labels</em>, <em>new_max_continuity=None</em>, <em>forward_context_length_min=0</em>, <em>init=False</em>, <em>equiv=None</em>, <em>print_info=False</em>, <em>shift_index=0</em>, <em>break_when_none=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ModelNavigator.FactorOracleNavigator.simply_guided_navigation" title="Permalink to this definition">¶</a></dt>
<dd><p>Navigation through the automaton, simply guided step by step by an input sequence of label.
Returns a novel sequence being consistent with the internal logic of the sequence on which the automaton is built, and matching the labels in required_labels.
(Returns a <strong>path</strong>, i.e., a list of indexes. Generated sequence: cf. <code class="xref py py-meth docutils literal notranslate"><span class="pre">Navigator.simply_guided_generation()</span></code>.)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>required_labels</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) – guiding sequence of labels</li>
<li><strong>new_max_continuity</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – new value for self.max_continuity (not changed id no parameter is given)</li>
<li><strong>forward_context_length_min</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – minimum length of the forward common context</li>
<li><strong>init</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – reinitialise the navigation parameters ?, default : False. (True when starting a new generation)</li>
<li><strong>equiv</strong> (<em>function</em>) – Compararison function given as a lambda function, default: self.equiv.</li>
<li><strong>print_info</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – print the details of the navigation steps</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of indexes of the generated path.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)">list</a> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)">int</a>)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">See also:</th><td class="field-body"><p class="first"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Navigator.simply_guided_generation()</span></code></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">See also:</th><td class="field-body"><p class="first">Tutorial in FactorOracleNavigator_tutorial.py.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">!:</th><td class="field-body"><p class="first"><strong>equiv</strong> has to be consistent with the type of the elements in labels.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">!:</th><td class="field-body"><p class="first">The result <strong>strongly depends</strong> on the tuning of the parameters self.max_continuity, self.avoid_repetitions_mode, self.no_empty_event.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Example:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sequence</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A1&#39;</span><span class="p">,</span><span class="s1">&#39;B1&#39;</span><span class="p">,</span><span class="s1">&#39;B2&#39;</span><span class="p">,</span><span class="s1">&#39;C1&#39;</span><span class="p">,</span><span class="s1">&#39;A2&#39;</span><span class="p">,</span><span class="s1">&#39;B3&#39;</span><span class="p">,</span><span class="s1">&#39;C2&#39;</span><span class="p">,</span><span class="s1">&#39;D1&#39;</span><span class="p">,</span><span class="s1">&#39;A3&#39;</span><span class="p">,</span><span class="s1">&#39;B4&#39;</span><span class="p">,</span><span class="s1">&#39;C3&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">sequence</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">FON</span> <span class="o">=</span> <span class="n">FactorOracleNavigator</span><span class="p">(</span><span class="n">sequence</span><span class="p">,</span> <span class="n">labels</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">FON</span><span class="o">.</span><span class="n">current_position_in_sequence</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">FON</span><span class="o">.</span><span class="n">index_last_state</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">FON</span><span class="o">.</span><span class="n">avoid_repetitions_mode</span> <span class="o">=</span> <span class="mi">1</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">FON</span><span class="o">.</span><span class="n">max_continuity</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">FON</span><span class="o">.</span><span class="n">no_empty_event</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">forward_context_length_min</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">guide</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;C&#39;</span><span class="p">,</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">generated_sequence</span> <span class="o">=</span> <span class="n">FON</span><span class="o">.</span><span class="n">simply_guided_generation</span><span class="p">(</span><span class="n">guide</span><span class="p">,</span> <span class="n">forward_context_length_min</span> <span class="o">=</span> <span class="n">forward_context_length_min</span><span class="p">,</span> <span class="n">init</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">print_info</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-Query">
<span id="handle-generation"></span><h1><strong>Handle generation</strong><a class="headerlink" href="#module-Query" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="Query.Query">
<em class="property">class </em><code class="descclassname">Query.</code><code class="descname">Query</code><span class="sig-paren">(</span><em>start_date=0, start_unit='event', start_type='absolute', handle=[None], label_type=None, scope_duration=0, scope_unit='event', behaviour='merge'</em><span class="sig-paren">)</span><a class="headerlink" href="#Query.Query" title="Permalink to this definition">¶</a></dt>
<dd><p>A <strong>query</strong> guides or constrains the run of a generation model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>handle</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) – “Handle” of the query / sequence of required labels ([None] for free generation).</li>
<li><strong>start</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a>) – Date concerned by the output of the query (details below).</li>
<li><strong>start</strong><strong>[</strong><strong>&quot;date&quot;</strong><strong>]</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Numerical value (unit and relative/absolute time: see below).</li>
<li><strong>start</strong><strong>[</strong><strong>&quot;unit&quot;</strong><strong>]</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Unit of the value given in start[“date”]: “event” or “ms”</li>
<li><strong>start</strong><strong>[</strong><strong>&quot;type&quot;</strong><strong>]</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Expressed in relative or absolute time ?: “relative” or “absolute”</li>
<li><strong>scope</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a>) – Temporal horizon of the query (details below).</li>
<li><strong>scope</strong><strong>[</strong><strong>&quot;duration&quot;</strong><strong>]</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Numerical value (unit: see below).</li>
<li><strong>scope</strong><strong>[</strong><strong>&quot;unit&quot;</strong><strong>]</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Unit of the value given in scope[“duration”]: “event” or “ms”</li>
<li><strong>behaviour</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – behaviour when a previous query concerned the same dates “merge” or “replace”</li>
<li><strong>status</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – “waiting” or “being processed”</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="Query.Query.process">
<code class="descname">process</code><span class="sig-paren">(</span><em>*args</em>, <em>**kargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Query.Query.process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Query.Query.relative_to_absolute">
<code class="descname">relative_to_absolute</code><span class="sig-paren">(</span><em>current_performance_time_event=None</em>, <em>current_performance_time_ms=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Query.Query.relative_to_absolute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="Query.new_temporal_query_free_sequence_of_events">
<code class="descclassname">Query.</code><code class="descname">new_temporal_query_free_sequence_of_events</code><span class="sig-paren">(</span><em>length=1</em>, <em>start_date=0</em>, <em>start_type='relative'</em>, <em>behaviour='replace'</em><span class="sig-paren">)</span><a class="headerlink" href="#Query.new_temporal_query_free_sequence_of_events" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="Query.new_temporal_query_sequence_of_events">
<code class="descclassname">Query.</code><code class="descname">new_temporal_query_sequence_of_events</code><span class="sig-paren">(</span><em>handle=[]</em>, <em>label_type=None</em>, <em>start_date=0</em>, <em>start_type='relative'</em>, <em>behaviour='replace'</em><span class="sig-paren">)</span><a class="headerlink" href="#Query.new_temporal_query_sequence_of_events" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<span class="target" id="module-Generator"></span><div class="section" id="generator">
<h2>Generator<a class="headerlink" href="#generator" title="Permalink to this headline">¶</a></h2>
<p>This module defines agents generating new sequences from a “memory” (model of sequence) and generation queries.
Main classes: <a class="reference internal" href="#Generator.Generator" title="Generator.Generator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code></a> (oriented towards offline generation), <a class="reference internal" href="#Generator.GenerationHandler" title="Generator.GenerationHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenerationHandler</span></code></a> (oriented towards interactivity).</p>
<dl class="class">
<dt id="Generator.GenerationHandler">
<em class="property">class </em><code class="descclassname">Generator.</code><code class="descname">GenerationHandler</code><span class="sig-paren">(</span><em>sequence=[], labels=[], model_navigator='FactorOracleNavigator', equiv=&lt;function &lt;lambda&gt;&gt;, label_type=None, content_type=None, authorized_tranformations=[0], continuity_with_future=[0.0, 1.0]</em><span class="sig-paren">)</span><a class="headerlink" href="#Generator.GenerationHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Generator.Generator" title="Generator.Generator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator.Generator</span></code></a></p>
<p>The class <strong>GenerationHandler</strong> introduces time management and planning for interactive applications and adds a pool of query, concurrency (e.g. processing of concurrent queries), the use of an execution trace etc. to the class <a class="reference internal" href="#Generator.Generator" title="Generator.Generator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code></a>.
More details in <strong>Nika, Bouche, Bresson, Chemillier, Assayag, “Guided improvisation as dynamic calls to an offline model”, 
in Proceedings of Sound and Music Computing conference 2015</strong> (<a class="reference external" href="https://hal.archives-ouvertes.fr/hal-01184642/document">https://hal.archives-ouvertes.fr/hal-01184642/document</a>), describing the first prototype of “improvisation handler”.</p>
<dl class="docutils">
<dt>The key differences between <a class="reference internal" href="#Generator.Generator" title="Generator.Generator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code></a> and <a class="reference internal" href="#Generator.GenerationHandler" title="Generator.GenerationHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenerationHandler</span></code></a> are:</dt>
<dd><ul class="first last simple">
<li><a class="reference internal" href="#Generator.Generator.receive_query" title="Generator.Generator.receive_query"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Generator.receive_query()</span></code></a> / <a class="reference internal" href="#Generator.GenerationHandler.receive_query" title="Generator.GenerationHandler.receive_query"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerationHandler.receive_query()</span></code></a></li>
<li><a class="reference internal" href="#Generator.Generator.process_query" title="Generator.Generator.process_query"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Generator.process_query()</span></code></a> / <a class="reference internal" href="#Generator.GenerationHandler.process_query" title="Generator.GenerationHandler.process_query"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerationHandler.process_query()</span></code></a></li>
</ul>
</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>generation_trace</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) – Whole output: current state of the sequence generated from the beginning (<a class="reference internal" href="#Generator.GenerationHandler.start" title="Generator.GenerationHandler.start"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerationHandler.start()</span></code></a>).</li>
<li><strong>current_performance_time</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a>) – Current time of the performance, see below.</li>
<li><strong>current_performance_time</strong><strong>[</strong><strong>&quot;event&quot;</strong><strong>]</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Time expressed in events.</li>
<li><strong>current_performance_time</strong><strong>[</strong><strong>&quot;ms&quot;</strong><strong>]</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Time expressed in ms.</li>
<li><strong>current_performance_time</strong><strong>[</strong><strong>&quot;last_update_event_in_ms&quot;</strong><strong>]</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Date when the last timing information was received.</li>
<li><strong>current_generation_time</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a>) – Current time of the generation, see below.</li>
<li><strong>current_generation_time</strong><strong>[</strong><strong>&quot;event&quot;</strong><strong>]</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Time expressed in events.</li>
<li><strong>current_generation_time</strong><strong>[</strong><strong>&quot;ms&quot;</strong><strong>]</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Time expressed in ms.</li>
<li><strong>current_duration_event_ms</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – If all the events have (more or less) a same duration (e.g. a clock, pulsed music, non timed sequences…), this attribute is not None. It is then used to convert events into dates in ms.</li>
<li><strong>query_pool_event</strong> (list(<a class="reference internal" href="#Query.Query" title="Query.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a>)) – Pool of waiting queries expressed in events.</li>
<li><strong>query_pool_ms</strong> (list(<a class="reference internal" href="#Query.Query" title="Query.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a>)) – Pool of waiting queries expressed in ms.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">See also:</th><td class="field-body"><p class="first"><a class="reference internal" href="#module-GeneratorBuilder" title="GeneratorBuilder"><code class="xref py py-mod docutils literal notranslate"><span class="pre">GeneratorBuilder</span></code></a>, automatic instanciation of Generator objects and GenerationHandler objects from annotation files.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">See also:</th><td class="field-body"><p class="first"><strong>Tutorial in</strong> <code class="file docutils literal notranslate"><span class="pre">_Tutorials_/Generator_tutorial.py</span></code>.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Example:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span> <span class="o">=</span> <span class="n">make_sequence_of_chord_labels</span><span class="p">([</span><span class="s2">&quot;d m7&quot;</span><span class="p">,</span> <span class="s2">&quot;d m7&quot;</span><span class="p">,</span> <span class="s2">&quot;g 7&quot;</span><span class="p">,</span> <span class="s2">&quot;g 7&quot;</span><span class="p">,</span> <span class="s2">&quot;c maj7&quot;</span><span class="p">,</span><span class="s2">&quot;c maj7&quot;</span><span class="p">,</span><span class="s2">&quot;c# maj7&quot;</span><span class="p">,</span><span class="s2">&quot;c# maj7&quot;</span><span class="p">,</span> <span class="s2">&quot;d# m7&quot;</span><span class="p">,</span> <span class="s2">&quot;d# m7&quot;</span><span class="p">,</span> <span class="s2">&quot;g# 7&quot;</span><span class="p">,</span> <span class="s2">&quot;g# 7&quot;</span><span class="p">,</span> <span class="s2">&quot;c# maj7&quot;</span><span class="p">,</span> <span class="s2">&quot;c# maj7&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sequence</span> <span class="o">=</span> <span class="n">make_sequence_of_chord_labels</span><span class="p">([</span><span class="s2">&quot;d m7(1)&quot;</span><span class="p">,</span> <span class="s2">&quot;d m7(2)&quot;</span><span class="p">,</span> <span class="s2">&quot;g 7(3)&quot;</span><span class="p">,</span> <span class="s2">&quot;g 7(4)&quot;</span><span class="p">,</span> <span class="s2">&quot;c maj7(5)&quot;</span><span class="p">,</span><span class="s2">&quot;c maj7(6)&quot;</span><span class="p">,</span><span class="s2">&quot;c# maj7(7)&quot;</span><span class="p">,</span><span class="s2">&quot;c# maj7(8)&quot;</span><span class="p">,</span> <span class="s2">&quot;d# m7(9)&quot;</span><span class="p">,</span> <span class="s2">&quot;d# m7(10)&quot;</span><span class="p">,</span> <span class="s2">&quot;g# 7(11)&quot;</span><span class="p">,</span> <span class="s2">&quot;g# 7(12)&quot;</span><span class="p">,</span> <span class="s2">&quot;c# maj7(13)&quot;</span><span class="p">,</span> <span class="s2">&quot;c# maj7(14)&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Creation of a Generation Handler</span><span class="se">\n</span><span class="s2">Model type = Factor Oracle</span><span class="se">\n</span><span class="s2">Sequence: </span><span class="si">{}</span><span class="se">\n</span><span class="s2">Labels: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">sequence</span><span class="p">,</span> <span class="n">labels</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">authorized_intervals</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">generation_handler</span> <span class="o">=</span> <span class="n">GenerationHandler</span><span class="p">(</span><span class="n">sequence</span> <span class="o">=</span> <span class="n">sequence</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="n">labels</span><span class="p">,</span> <span class="n">model_type</span> <span class="o">=</span> <span class="s2">&quot;FactorOracleNavigator&quot;</span><span class="p">,</span> <span class="n">authorized_tranformations</span> <span class="o">=</span> <span class="n">authorized_intervals</span><span class="p">,</span> <span class="n">sequence_to_interval_fun</span> <span class="o">=</span> <span class="n">chord_labels_sequence_to_interval</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">generation_handler</span><span class="o">.</span><span class="n">memory</span><span class="o">.</span><span class="n">avoid_repetitions_mode</span> <span class="o">=</span> <span class="mi">1</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">generation_handler</span><span class="o">.</span><span class="n">memory</span><span class="o">.</span><span class="n">max_continuity</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">generation_handler</span><span class="o">.</span><span class="n">memory</span><span class="o">.</span><span class="n">no_empty_event</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">generation_handler</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
<dl class="method">
<dt id="Generator.GenerationHandler.estimation_date_event_of_ms">
<code class="descname">estimation_date_event_of_ms</code><span class="sig-paren">(</span><em>date_ms</em><span class="sig-paren">)</span><a class="headerlink" href="#Generator.GenerationHandler.estimation_date_event_of_ms" title="Permalink to this definition">¶</a></dt>
<dd><p>If all the events have (more or less) a same duration (e.g. a clock, pulsed music, non timed sequences…), 
<code class="xref py py-attr docutils literal notranslate"><span class="pre">self.current_duration_event_ms</span></code> is not None. It is then used to convert dates in ms into indexes of events.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>date_ms</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – date in ms to convert</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">estimated corresponding index of event (or None)</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)">int</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Generator.GenerationHandler.estimation_date_ms_of_event">
<code class="descname">estimation_date_ms_of_event</code><span class="sig-paren">(</span><em>num_event</em><span class="sig-paren">)</span><a class="headerlink" href="#Generator.GenerationHandler.estimation_date_ms_of_event" title="Permalink to this definition">¶</a></dt>
<dd><p>If all the events have (more or less) a same duration (e.g. a clock, pulsed music, non timed sequences…), 
<code class="xref py py-attr docutils literal notranslate"><span class="pre">self.current_duration_event_ms</span></code> is not None. It is then used to convert indexes of events into dates in ms.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>num_event</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – index of event to convert</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">estimated corresponding date in ms (or None)</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)">int</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Generator.GenerationHandler.inc_performance_time">
<code class="descname">inc_performance_time</code><span class="sig-paren">(</span><em>inc_event=None</em>, <em>inc_ms=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Generator.GenerationHandler.inc_performance_time" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Generator.GenerationHandler.index_previously_generated_event_date_ms">
<code class="descname">index_previously_generated_event_date_ms</code><span class="sig-paren">(</span><em>date_query</em><span class="sig-paren">)</span><a class="headerlink" href="#Generator.GenerationHandler.index_previously_generated_event_date_ms" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Generator.GenerationHandler.process_prioritary_query">
<code class="descname">process_prioritary_query</code><span class="sig-paren">(</span><em>unit=None</em>, <em>print_info=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Generator.GenerationHandler.process_prioritary_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Processes the prioritary query in the query pool.</p>
</dd></dl>

<dl class="method">
<dt id="Generator.GenerationHandler.process_query">
<code class="descname">process_query</code><span class="sig-paren">(</span><em>query</em>, <em>print_info=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Generator.GenerationHandler.process_query" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>The key differences between <a class="reference internal" href="#Generator.Generator" title="Generator.Generator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code></a> and <a class="reference internal" href="#Generator.GenerationHandler" title="Generator.GenerationHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenerationHandler</span></code></a> are:</dt>
<dd><ul class="first last simple">
<li><a class="reference internal" href="#Generator.Generator.receive_query" title="Generator.Generator.receive_query"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Generator.receive_query()</span></code></a> / <a class="reference internal" href="#Generator.GenerationHandler.receive_query" title="Generator.GenerationHandler.receive_query"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerationHandler.receive_query()</span></code></a></li>
<li><a class="reference internal" href="#Generator.Generator.process_query" title="Generator.Generator.process_query"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Generator.process_query()</span></code></a> / <a class="reference internal" href="#Generator.GenerationHandler.process_query" title="Generator.GenerationHandler.process_query"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerationHandler.process_query()</span></code></a></li>
</ul>
</dd>
</dl>
<p>This methods takes time into account: in addition to what <a class="reference internal" href="#Generator.Generator.process_query" title="Generator.Generator.process_query"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Generator.process_query()</span></code></a> does, 
it compares the attribute <code class="xref py py-attr docutils literal notranslate"><span class="pre">Query.start</span></code> of the query and <code class="xref py py-attr docutils literal notranslate"><span class="pre">self.current_performance_time</span></code> to call <code class="xref py py-meth docutils literal notranslate"><span class="pre">Navigator.go_to_anterior_state_using_execution_trace()</span></code> if needed.
This way, it ensures consistency at tiling time when rewriting previously generated anticipations.
As in <a class="reference internal" href="#Generator.Generator.process_query" title="Generator.Generator.process_query"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Generator.process_query()</span></code></a> the output of this query is stored in <code class="xref py py-attr docutils literal notranslate"><span class="pre">self.current_generation_output</span></code>. 
In addition it is inserted at the right place in the whole output history <code class="xref py py-attr docutils literal notranslate"><span class="pre">self.generation_trace</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>query</strong> (<a class="reference internal" href="#Query.Query" title="Query.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">query.start[“date”] (converted to “absolute” value)</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)">int</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Generator.GenerationHandler.receive_query">
<code class="descname">receive_query</code><span class="sig-paren">(</span><em>query</em>, <em>print_info=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Generator.GenerationHandler.receive_query" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>The key differences between <a class="reference internal" href="#Generator.Generator" title="Generator.Generator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code></a> and <a class="reference internal" href="#Generator.GenerationHandler" title="Generator.GenerationHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenerationHandler</span></code></a> are:</dt>
<dd><ul class="first last simple">
<li><a class="reference internal" href="#Generator.Generator.receive_query" title="Generator.Generator.receive_query"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Generator.receive_query()</span></code></a> / <a class="reference internal" href="#Generator.GenerationHandler.receive_query" title="Generator.GenerationHandler.receive_query"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerationHandler.receive_query()</span></code></a></li>
<li><a class="reference internal" href="#Generator.Generator.process_query" title="Generator.Generator.process_query"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Generator.process_query()</span></code></a> / <a class="reference internal" href="#Generator.GenerationHandler.process_query" title="Generator.GenerationHandler.process_query"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerationHandler.process_query()</span></code></a></li>
</ul>
</dd>
</dl>
<p>Inserts the received query in the query pool. 
Handles the interaction between (running and/or waiting) queries: merging compatible queries, killing outdated queries…
The queries in the query pool are then run in due time.
<strong>TODO: for the moment only “append” and immediate processing.</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>query</strong> (<a class="reference internal" href="#Query.Query" title="Query.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Example:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span> <span class="o">=</span> <span class="n">make_sequence_of_chord_labels</span><span class="p">([</span><span class="s2">&quot;d m7&quot;</span><span class="p">,</span> <span class="s2">&quot;d m7&quot;</span><span class="p">,</span> <span class="s2">&quot;g 7&quot;</span><span class="p">,</span> <span class="s2">&quot;g 7&quot;</span><span class="p">,</span> <span class="s2">&quot;c maj7&quot;</span><span class="p">,</span><span class="s2">&quot;c maj7&quot;</span><span class="p">,</span><span class="s2">&quot;c# maj7&quot;</span><span class="p">,</span><span class="s2">&quot;c# maj7&quot;</span><span class="p">,</span> <span class="s2">&quot;d# m7&quot;</span><span class="p">,</span> <span class="s2">&quot;d# m7&quot;</span><span class="p">,</span> <span class="s2">&quot;g# 7&quot;</span><span class="p">,</span> <span class="s2">&quot;g# 7&quot;</span><span class="p">,</span> <span class="s2">&quot;c# maj7&quot;</span><span class="p">,</span> <span class="s2">&quot;c# maj7&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sequence</span> <span class="o">=</span> <span class="n">make_sequence_of_chord_labels</span><span class="p">([</span><span class="s2">&quot;d m7(1)&quot;</span><span class="p">,</span> <span class="s2">&quot;d m7(2)&quot;</span><span class="p">,</span> <span class="s2">&quot;g 7(3)&quot;</span><span class="p">,</span> <span class="s2">&quot;g 7(4)&quot;</span><span class="p">,</span> <span class="s2">&quot;c maj7(5)&quot;</span><span class="p">,</span><span class="s2">&quot;c maj7(6)&quot;</span><span class="p">,</span><span class="s2">&quot;c# maj7(7)&quot;</span><span class="p">,</span><span class="s2">&quot;c# maj7(8)&quot;</span><span class="p">,</span> <span class="s2">&quot;d# m7(9)&quot;</span><span class="p">,</span> <span class="s2">&quot;d# m7(10)&quot;</span><span class="p">,</span> <span class="s2">&quot;g# 7(11)&quot;</span><span class="p">,</span> <span class="s2">&quot;g# 7(12)&quot;</span><span class="p">,</span> <span class="s2">&quot;c# maj7(13)&quot;</span><span class="p">,</span> <span class="s2">&quot;c# maj7(14)&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Creation of a Generation Handler</span><span class="se">\n</span><span class="s2">Model type = Factor Oracle</span><span class="se">\n</span><span class="s2">Sequence: </span><span class="si">{}</span><span class="se">\n</span><span class="s2">Labels: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">sequence</span><span class="p">,</span> <span class="n">labels</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">authorized_intervals</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">generation_handler</span> <span class="o">=</span> <span class="n">GenerationHandler</span><span class="p">(</span><span class="n">sequence</span> <span class="o">=</span> <span class="n">sequence</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="n">labels</span><span class="p">,</span> <span class="n">model_type</span> <span class="o">=</span> <span class="s2">&quot;FactorOracleNavigator&quot;</span><span class="p">,</span> <span class="n">authorized_tranformations</span> <span class="o">=</span> <span class="n">authorized_intervals</span><span class="p">,</span> <span class="n">sequence_to_interval_fun</span> <span class="o">=</span> <span class="n">chord_labels_sequence_to_interval</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">generation_handler</span><span class="o">.</span><span class="n">memory</span><span class="o">.</span><span class="n">avoid_repetitions_mode</span> <span class="o">=</span> <span class="mi">1</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">generation_handler</span><span class="o">.</span><span class="n">memory</span><span class="o">.</span><span class="n">max_continuity</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">generation_handler</span><span class="o">.</span><span class="n">memory</span><span class="o">.</span><span class="n">no_empty_event</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">generation_handler</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scenario</span> <span class="o">=</span> <span class="n">make_sequence_of_chord_labels</span><span class="p">([</span><span class="s2">&quot;g m7&quot;</span><span class="p">,</span> <span class="s2">&quot;g m7&quot;</span><span class="p">,</span> <span class="s2">&quot;c 7&quot;</span><span class="p">,</span> <span class="s2">&quot;c 7&quot;</span><span class="p">,</span> <span class="s2">&quot;f maj7&quot;</span><span class="p">,</span> <span class="s2">&quot;f maj7&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">query</span><span class="o">=</span> <span class="n">new_temporal_query_sequence_of_events</span><span class="p">(</span><span class="n">scenario</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">/!\ Receiving and processing a new query: /!\ </span><span class="se">\n</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">query</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">generation_handler</span><span class="o">.</span><span class="n">receive_query</span><span class="p">(</span><span class="n">query</span> <span class="o">=</span> <span class="n">query</span><span class="p">,</span>  <span class="n">print_info</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Output of the run: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">generation_handler</span><span class="o">.</span><span class="n">current_generation_output</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;/!\ Updated buffered improvisation: </span><span class="si">{}</span><span class="s2"> /!\ &quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">generation_handler</span><span class="o">.</span><span class="n">generation_trace</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">query</span><span class="o">=</span> <span class="n">new_temporal_query_free_sequence_of_events</span><span class="p">(</span><span class="n">length</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="n">start_date</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="n">start_type</span> <span class="o">=</span> <span class="s2">&quot;absolute&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">/!\ Receiving and processing a new query: /!\ </span><span class="se">\n</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">query</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">generation_handler</span><span class="o">.</span><span class="n">receive_query</span><span class="p">(</span><span class="n">query</span> <span class="o">=</span> <span class="n">query</span><span class="p">,</span>  <span class="n">print_info</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Output of the run: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">generation_handler</span><span class="o">.</span><span class="n">current_generation_output</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;/!\ Updated buffered improvisation: </span><span class="si">{}</span><span class="s2"> /!\ &quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">generation_handler</span><span class="o">.</span><span class="n">generation_trace</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="Generator.GenerationHandler.start">
<code class="descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Generator.GenerationHandler.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets <code class="xref py py-attr docutils literal notranslate"><span class="pre">self.current_performance_time</span></code> to 0.</p>
</dd></dl>

<dl class="method">
<dt id="Generator.GenerationHandler.update_performance_time">
<code class="descname">update_performance_time</code><span class="sig-paren">(</span><em>date_event=None</em>, <em>date_ms=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Generator.GenerationHandler.update_performance_time" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="Generator.Generator">
<em class="property">class </em><code class="descclassname">Generator.</code><code class="descname">Generator</code><span class="sig-paren">(</span><em>sequence=[], labels=[], model_navigator='FactorOracleNavigtor', equiv=&lt;function &lt;lambda&gt;&gt;, label_type=None, content_type=None, authorized_tranformations=[0], continuity_with_future=[0.0, 1.0]</em><span class="sig-paren">)</span><a class="headerlink" href="#Generator.Generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>The class <strong>Generator</strong> embeds a <strong>model navigator</strong> as “memory” (cf. metaclass <a class="reference internal" href="#MetaModelNavigator.MetaModelNavigator" title="MetaModelNavigator.MetaModelNavigator"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetaModelNavigator</span></code></a>) and processes <strong>queries</strong> (class <a class="reference internal" href="#Query.Query" title="Query.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a>) to generate new sequences. This class uses pattern matching techniques (cf. <a class="reference internal" href="#module-PrefixIndexing" title="PrefixIndexing"><code class="xref py py-mod docutils literal notranslate"><span class="pre">PrefixIndexing</span></code></a>) to enrich the navigation and generation methods offered by the chosen model with (“ImproteK-like”) anticipative behaviour.
More information on “scenario-based generation”: see <strong>Nika, “Guiding Human-Computer Music Improvisation: introducing Authoring and Control with Temporal Scenarios”, PhD Thesis, UPMC Paris 6, Ircam, 2016</strong> (<a class="reference external" href="https://tel.archives-ouvertes.fr/tel-01361835">https://tel.archives-ouvertes.fr/tel-01361835</a>)
and 
<strong>Nika, Chemillier, Assayag, “ImproteK: introducing scenarios into human-computer music improvisation”, 
ACM Computers in Entertainment, Special issue on Musical metacreation Part I, 2017</strong> (<a class="reference external" href="https://hal.archives-ouvertes.fr/hal-01380163">https://hal.archives-ouvertes.fr/hal-01380163</a>).</p>
<dl class="docutils">
<dt>The key differences between <a class="reference internal" href="#Generator.Generator" title="Generator.Generator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code></a> and <a class="reference internal" href="#Generator.GenerationHandler" title="Generator.GenerationHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenerationHandler</span></code></a> are:</dt>
<dd><ul class="first last simple">
<li><a class="reference internal" href="#Generator.Generator.receive_query" title="Generator.Generator.receive_query"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Generator.receive_query()</span></code></a> / <a class="reference internal" href="#Generator.GenerationHandler.receive_query" title="Generator.GenerationHandler.receive_query"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerationHandler.receive_query()</span></code></a></li>
<li><a class="reference internal" href="#Generator.Generator.process_query" title="Generator.Generator.process_query"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Generator.process_query()</span></code></a> / <a class="reference internal" href="#Generator.GenerationHandler.process_query" title="Generator.GenerationHandler.process_query"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerationHandler.process_query()</span></code></a></li>
</ul>
</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>model_navigator</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – </li>
<li><strong>memory</strong> (cf. <code class="xref py py-mod docutils literal notranslate"><span class="pre">ModelNavigator</span></code> and <a class="reference internal" href="#module-MetaModelNavigator" title="MetaModelNavigator"><code class="xref py py-mod docutils literal notranslate"><span class="pre">MetaModelNavigator</span></code></a>) – “Model navigator” inheriting from (a subclass of) <a class="reference internal" href="#Model.Model" title="Model.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a> and (a subclass of) <a class="reference internal" href="#Navigator.Navigator" title="Navigator.Navigator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Navigator</span></code></a>.</li>
<li><strong>initial_query</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – </li>
<li><strong>current_generation_query</strong> (<a class="reference internal" href="#Query.Query" title="Query.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a>) – </li>
<li><strong>current_generation_output</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) – </li>
<li><strong>transfo_current_generation_output</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) – </li>
<li><strong>continuity_with_future</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) – </li>
<li><strong>current_transformation_memory</strong> (cf. <a class="reference internal" href="#module-Transforms" title="Transforms"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Transforms</span></code></a>) – </li>
<li><strong>authorized_tranformations</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em>(</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>)</em>) – </li>
<li><strong>sequence_to_interval_fun</strong> (<em>function</em>) – </li>
<li><strong>equiv_mod_interval</strong> (<em>function</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">See also:</th><td class="field-body"><p class="first"><a class="reference internal" href="#module-GeneratorBuilder" title="GeneratorBuilder"><code class="xref py py-mod docutils literal notranslate"><span class="pre">GeneratorBuilder</span></code></a>, automatic instanciation of Generator objects and GenerationHandler objects from annotation files.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">See also:</th><td class="field-body"><p class="first"><strong>Tutorial in</strong> <code class="file docutils literal notranslate"><span class="pre">_Tutorials_/Generator_tutorial.py</span></code>.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Example:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sequence_1</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A1&#39;</span><span class="p">,</span><span class="s1">&#39;B1&#39;</span><span class="p">,</span><span class="s1">&#39;B2&#39;</span><span class="p">,</span><span class="s1">&#39;C1&#39;</span><span class="p">,</span><span class="s1">&#39;A2&#39;</span><span class="p">,</span><span class="s1">&#39;B3&#39;</span><span class="p">,</span><span class="s1">&#39;C2&#39;</span><span class="p">,</span><span class="s1">&#39;D1&#39;</span><span class="p">,</span><span class="s1">&#39;A3&#39;</span><span class="p">,</span><span class="s1">&#39;B4&#39;</span><span class="p">,</span><span class="s1">&#39;C3&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labels_1</span> <span class="o">=</span> <span class="p">[</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">sequence_1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">generator_1</span> <span class="o">=</span> <span class="n">Generator</span><span class="p">(</span><span class="n">sequence</span><span class="o">=</span><span class="n">sequence_1</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">labels_1</span><span class="p">,</span> <span class="n">model_navigator</span> <span class="o">=</span> <span class="s2">&quot;FactorOracleNavigator&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sequence_2</span> <span class="o">=</span> <span class="n">make_sequence_of_chord_labels</span><span class="p">([</span><span class="s2">&quot;d m7(1)&quot;</span><span class="p">,</span> <span class="s2">&quot;d m7(2)&quot;</span><span class="p">,</span> <span class="s2">&quot;g 7(3)&quot;</span><span class="p">,</span> <span class="s2">&quot;g 7(4)&quot;</span><span class="p">,</span> <span class="s2">&quot;c maj7(5)&quot;</span><span class="p">,</span><span class="s2">&quot;c maj7(6)&quot;</span><span class="p">,</span><span class="s2">&quot;c# maj7(7)&quot;</span><span class="p">,</span><span class="s2">&quot;c# maj7(8)&quot;</span><span class="p">,</span> <span class="s2">&quot;d# m7(9)&quot;</span><span class="p">,</span> <span class="s2">&quot;d# m7(10)&quot;</span><span class="p">,</span> <span class="s2">&quot;g# 7(11)&quot;</span><span class="p">,</span> <span class="s2">&quot;g# 7(12)&quot;</span><span class="p">,</span> <span class="s2">&quot;c# maj7(13)&quot;</span><span class="p">,</span> <span class="s2">&quot;c# maj7(14)&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labels_2</span> <span class="o">=</span> <span class="n">make_sequence_of_chord_labels</span><span class="p">([</span><span class="s2">&quot;d m7&quot;</span><span class="p">,</span> <span class="s2">&quot;d m7&quot;</span><span class="p">,</span> <span class="s2">&quot;g 7&quot;</span><span class="p">,</span> <span class="s2">&quot;g 7&quot;</span><span class="p">,</span> <span class="s2">&quot;c maj7&quot;</span><span class="p">,</span><span class="s2">&quot;c maj7&quot;</span><span class="p">,</span><span class="s2">&quot;c# maj7&quot;</span><span class="p">,</span><span class="s2">&quot;c# maj7&quot;</span><span class="p">,</span> <span class="s2">&quot;d# m7&quot;</span><span class="p">,</span> <span class="s2">&quot;d# m7&quot;</span><span class="p">,</span> <span class="s2">&quot;g# 7&quot;</span><span class="p">,</span> <span class="s2">&quot;g# 7&quot;</span><span class="p">,</span> <span class="s2">&quot;c# maj7&quot;</span><span class="p">,</span> <span class="s2">&quot;c# maj7&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">authorized_intervals</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">generator_2</span> <span class="o">=</span> <span class="n">Generator</span><span class="p">(</span><span class="n">sequence</span> <span class="o">=</span> <span class="n">sequence_2</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="n">labels_2</span><span class="p">,</span> <span class="n">model_navigator</span> <span class="o">=</span> <span class="s2">&quot;FactorOracleNavigator&quot;</span><span class="p">,</span> <span class="n">authorized_tranformations</span> <span class="o">=</span> <span class="n">authorized_intervals</span><span class="p">,</span> <span class="n">sequence_to_interval_fun</span> <span class="o">=</span> <span class="n">chord_labels_sequence_to_interval</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="Generator.Generator.decode_memory_with_current_transfo">
<code class="descname">decode_memory_with_current_transfo</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Generator.Generator.decode_memory_with_current_transfo" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Generator.Generator.decode_memory_with_transfo">
<code class="descname">decode_memory_with_transfo</code><span class="sig-paren">(</span><em>transform</em><span class="sig-paren">)</span><a class="headerlink" href="#Generator.Generator.decode_memory_with_transfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply the reciprocal transformation of the transformation given in argument to <code class="xref py py-attr docutils literal notranslate"><span class="pre">self.memory.sequence</span></code> and <code class="xref py py-attr docutils literal notranslate"><span class="pre">self.memory.label</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>transform</strong> (cf. <a class="reference internal" href="#module-Transforms" title="Transforms"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Transforms</span></code></a>) – </td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Generator.Generator.encode_memory_with_current_transfo">
<code class="descname">encode_memory_with_current_transfo</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Generator.Generator.encode_memory_with_current_transfo" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Generator.Generator.encode_memory_with_transfo">
<code class="descname">encode_memory_with_transfo</code><span class="sig-paren">(</span><em>transform</em><span class="sig-paren">)</span><a class="headerlink" href="#Generator.Generator.encode_memory_with_transfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply the transformation given in argument to <code class="xref py py-attr docutils literal notranslate"><span class="pre">self.memory.sequence</span> <span class="pre">and</span> <span class="pre">:attr:`self.memory.label</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>transform</strong> (cf. <a class="reference internal" href="#module-Transforms" title="Transforms"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Transforms</span></code></a>) – </td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Generator.Generator.filter_using_history_and_taboos">
<code class="descname">filter_using_history_and_taboos</code><span class="sig-paren">(</span><em>list_of_indexes</em><span class="sig-paren">)</span><a class="headerlink" href="#Generator.Generator.filter_using_history_and_taboos" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Generator.Generator.formatted_generation_trace_string">
<code class="descname">formatted_generation_trace_string</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Generator.Generator.formatted_generation_trace_string" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Generator.Generator.formatted_output_couple_content_transfo">
<code class="descname">formatted_output_couple_content_transfo</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Generator.Generator.formatted_output_couple_content_transfo" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Generator.Generator.formatted_output_string">
<code class="descname">formatted_output_string</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Generator.Generator.formatted_output_string" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Generator.Generator.generation_matching_query">
<code class="descname">generation_matching_query</code><span class="sig-paren">(</span><em>query</em>, <em>print_info=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Generator.Generator.generation_matching_query" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Launches the run of a generation process corresponding to <code class="xref py py-attr docutils literal notranslate"><span class="pre">self.current_generation_query</span></code> (more precisely its attributes <code class="xref py py-attr docutils literal notranslate"><span class="pre">Query.handle</span></code> and <code class="xref py py-attr docutils literal notranslate"><span class="pre">Query.scope</span></code>):</dt>
<dd><ul class="first last simple">
<li><a class="reference internal" href="#Generator.Generator.handle_free_generation" title="Generator.Generator.handle_free_generation"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Generator.handle_free_generation()</span></code></a>, or</li>
<li><a class="reference internal" href="#Generator.Generator.handle_generation_matching_label" title="Generator.Generator.handle_generation_matching_label"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Generator.handle_generation_matching_label()</span></code></a>, or</li>
<li><a class="reference internal" href="#Generator.Generator.handle_scenario_based_generation" title="Generator.Generator.handle_scenario_based_generation"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Generator.handle_scenario_based_generation()</span></code></a>.</li>
</ul>
</dd>
</dl>
<p>The generated sequence is stored in <code class="xref py py-attr docutils literal notranslate"><span class="pre">self.current_generation_output</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>query</strong> (<a class="reference internal" href="#Query.Query" title="Query.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a>) – </td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Generator.Generator.handle_free_generation">
<code class="descname">handle_free_generation</code><span class="sig-paren">(</span><em>length</em>, <em>print_info=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Generator.Generator.handle_free_generation" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a sequence using the method <a class="reference internal" href="#Navigator.Navigator.free_generation" title="Navigator.Navigator.free_generation"><code class="xref py py-meth docutils literal notranslate"><span class="pre">free_generation()</span></code></a> of the model navigator (cf. <code class="xref py py-mod docutils literal notranslate"><span class="pre">ModelNavigator</span></code>) in <code class="xref py py-attr docutils literal notranslate"><span class="pre">self.memory</span></code>. <a class="reference internal" href="#Generator.Generator.encode_memory_with_current_transfo" title="Generator.Generator.encode_memory_with_current_transfo"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Generator.encode_memory_with_current_transfo()</span></code></a> and <a class="reference internal" href="#Generator.Generator.decode_memory_with_current_transfo" title="Generator.Generator.decode_memory_with_current_transfo"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Generator.decode_memory_with_current_transfo()</span></code></a> are respectively called before and after this generation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – required length of the sequence</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">generated sequence</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)">list</a></td>
</tr>
<tr class="field-even field"><th class="field-name">See also:</th><td class="field-body"><a class="reference internal" href="#Navigator.Navigator.free_generation" title="Navigator.Navigator.free_generation"><code class="xref py py-meth docutils literal notranslate"><span class="pre">free_generation()</span></code></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">See also:</th><td class="field-body"><a class="reference internal" href="#module-MetaModelNavigator" title="MetaModelNavigator"><code class="xref py py-mod docutils literal notranslate"><span class="pre">MetaModelNavigator</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Generator.Generator.handle_generation_matching_label">
<code class="descname">handle_generation_matching_label</code><span class="sig-paren">(</span><em>label</em>, <em>print_info=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Generator.Generator.handle_generation_matching_label" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a single event using the method <a class="reference internal" href="#Navigator.Navigator.simply_guided_generation" title="Navigator.Navigator.simply_guided_generation"><code class="xref py py-meth docutils literal notranslate"><span class="pre">simply_guided_generation()</span></code></a> of the model navigator (cf. <code class="xref py py-mod docutils literal notranslate"><span class="pre">ModelNavigator</span></code>) in <code class="xref py py-attr docutils literal notranslate"><span class="pre">self.memory</span></code>. <a class="reference internal" href="#Generator.Generator.encode_memory_with_current_transfo" title="Generator.Generator.encode_memory_with_current_transfo"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Generator.encode_memory_with_current_transfo()</span></code></a> and <a class="reference internal" href="#Generator.Generator.decode_memory_with_current_transfo" title="Generator.Generator.decode_memory_with_current_transfo"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Generator.decode_memory_with_current_transfo()</span></code></a> are respectively called before and after this generation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>label</strong> (type of the elements in <code class="xref py py-attr docutils literal notranslate"><span class="pre">self.memory.label</span></code>) – required label</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">generated event</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">type of the elements in <code class="xref py py-attr docutils literal notranslate"><span class="pre">self.memory.sequence</span></code></td>
</tr>
<tr class="field-even field"><th class="field-name">See also:</th><td class="field-body"><code class="xref py py-meth docutils literal notranslate"><span class="pre">simply_generation()</span></code></td>
</tr>
<tr class="field-odd field"><th class="field-name">See also:</th><td class="field-body"><a class="reference internal" href="#module-MetaModelNavigator" title="MetaModelNavigator"><code class="xref py py-mod docutils literal notranslate"><span class="pre">MetaModelNavigator</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Generator.Generator.handle_scenario_based_generation">
<code class="descname">handle_scenario_based_generation</code><span class="sig-paren">(</span><em>list_of_labels</em>, <em>print_info=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Generator.Generator.handle_scenario_based_generation" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a sequence matching a “scenario” (a list of labels). The generation process takes advantage of the scenario to introduce anticatory behaviour, that is, continuity with the future of the scenario.
The generation process is divided in successive “generation phases”, cf. <a class="reference internal" href="#Generator.Generator.handle_scenario_based_generation_one_phase" title="Generator.Generator.handle_scenario_based_generation_one_phase"><code class="xref py py-meth docutils literal notranslate"><span class="pre">handle_scenario_based_generation_one_phase()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>list_of_labels</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – “scenario”, required labels</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">generated sequence</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)">list</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Generator.Generator.handle_scenario_based_generation_one_phase">
<code class="descname">handle_scenario_based_generation_one_phase</code><span class="sig-paren">(</span><em>list_of_labels</em>, <em>print_info=False</em>, <em>shift_index=0</em><span class="sig-paren">)</span><a class="headerlink" href="#Generator.Generator.handle_scenario_based_generation_one_phase" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>list_of_labels</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – “current scenario”, suffix of the scenario given in argument to <a class="reference internal" href="#Generator.Generator.handle_scenario_based_generation" title="Generator.Generator.handle_scenario_based_generation"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Generator.Generator.handle_scenario_based_generation()</span></code></a>.</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>A “scenario-based” generation phase:</dt>
<dd><ol class="first last arabic simple">
<li>Anticipation step: looking for an event in the memory sharing a common future with the current scenario.</li>
<li>Navigation step: starting from the starting point found in the first step, navigation in the memory using <a class="reference internal" href="#Navigator.Navigator.simply_guided_generation" title="Navigator.Navigator.simply_guided_generation"><code class="xref py py-meth docutils literal notranslate"><span class="pre">simply_guided_generation()</span></code></a> until launching a new phase is necessary.</li>
</ol>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Generator.Generator.learn_event">
<code class="descname">learn_event</code><span class="sig-paren">(</span><em>state</em>, <em>label</em><span class="sig-paren">)</span><a class="headerlink" href="#Generator.Generator.learn_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Learn a new event in the memory (model navigator).</p>
</dd></dl>

<dl class="method">
<dt id="Generator.Generator.learn_sequence">
<code class="descname">learn_sequence</code><span class="sig-paren">(</span><em>sequence</em>, <em>labels</em><span class="sig-paren">)</span><a class="headerlink" href="#Generator.Generator.learn_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Learn a new sequence in the memory (model navigator).</p>
</dd></dl>

<dl class="method">
<dt id="Generator.Generator.process_query">
<code class="descname">process_query</code><span class="sig-paren">(</span><em>query</em>, <em>print_info=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Generator.Generator.process_query" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>The key differences between <a class="reference internal" href="#Generator.Generator" title="Generator.Generator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code></a> and <a class="reference internal" href="#Generator.GenerationHandler" title="Generator.GenerationHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenerationHandler</span></code></a> are:</dt>
<dd><ul class="first last simple">
<li><a class="reference internal" href="#Generator.Generator.receive_query" title="Generator.Generator.receive_query"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Generator.receive_query()</span></code></a> / <a class="reference internal" href="#Generator.GenerationHandler.receive_query" title="Generator.GenerationHandler.receive_query"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerationHandler.receive_query()</span></code></a></li>
<li><a class="reference internal" href="#Generator.Generator.process_query" title="Generator.Generator.process_query"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Generator.process_query()</span></code></a> / <a class="reference internal" href="#Generator.GenerationHandler.process_query" title="Generator.GenerationHandler.process_query"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerationHandler.process_query()</span></code></a></li>
</ul>
</dd>
</dl>
<p>This methods stores the query given in argument in <code class="xref py py-attr docutils literal notranslate"><span class="pre">self.current_generation_query</span></code> and calls <a class="reference internal" href="#Generator.Generator.generation_matching_query" title="Generator.Generator.generation_matching_query"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Generator.generation_matching_query()</span></code></a> to run the execution of a generation process adapted to <code class="xref py py-attr docutils literal notranslate"><span class="pre">Query.handle</span></code> and <code class="xref py py-attr docutils literal notranslate"><span class="pre">Query.scope</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>query</strong> (<a class="reference internal" href="#Query.Query" title="Query.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a>) – </td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Generator.Generator.receive_query">
<code class="descname">receive_query</code><span class="sig-paren">(</span><em>query</em>, <em>print_info=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Generator.Generator.receive_query" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>The key differences between <a class="reference internal" href="#Generator.Generator" title="Generator.Generator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code></a> and <a class="reference internal" href="#Generator.GenerationHandler" title="Generator.GenerationHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenerationHandler</span></code></a> are:</dt>
<dd><ul class="first last simple">
<li><a class="reference internal" href="#Generator.Generator.receive_query" title="Generator.Generator.receive_query"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Generator.receive_query()</span></code></a> / <a class="reference internal" href="#Generator.GenerationHandler.receive_query" title="Generator.GenerationHandler.receive_query"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerationHandler.receive_query()</span></code></a></li>
<li><a class="reference internal" href="#Generator.Generator.process_query" title="Generator.Generator.process_query"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Generator.process_query()</span></code></a> / <a class="reference internal" href="#Generator.GenerationHandler.process_query" title="Generator.GenerationHandler.process_query"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerationHandler.process_query()</span></code></a></li>
</ul>
</dd>
</dl>
<p>Here, a query is processed as soon as it is received.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>query</strong> (<a class="reference internal" href="#Query.Query" title="Query.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">See also:</th><td class="field-body"><a class="reference internal" href="#Generator.Generator.process_query" title="Generator.Generator.process_query"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Generator.process_query()</span></code></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sequence</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A1&#39;</span><span class="p">,</span><span class="s1">&#39;B1&#39;</span><span class="p">,</span><span class="s1">&#39;B2&#39;</span><span class="p">,</span><span class="s1">&#39;C1&#39;</span><span class="p">,</span><span class="s1">&#39;A2&#39;</span><span class="p">,</span><span class="s1">&#39;B3&#39;</span><span class="p">,</span><span class="s1">&#39;C2&#39;</span><span class="p">,</span><span class="s1">&#39;D1&#39;</span><span class="p">,</span><span class="s1">&#39;A3&#39;</span><span class="p">,</span><span class="s1">&#39;B4&#39;</span><span class="p">,</span><span class="s1">&#39;C3&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">sequence</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">generator</span> <span class="o">=</span> <span class="n">Generator</span><span class="p">(</span><span class="n">sequence</span><span class="o">=</span><span class="n">sequence</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">,</span> <span class="n">model_navigator</span> <span class="o">=</span> <span class="s2">&quot;FactorOracleNavigator&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Processing query 1 - generation guided by a scenario:&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">query_1</span> <span class="o">=</span> <span class="n">new_temporal_query_sequence_of_events</span><span class="p">([</span><span class="s1">&#39;C&#39;</span><span class="p">,</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">generator</span><span class="o">.</span><span class="n">receive_query</span><span class="p">(</span><span class="n">query</span> <span class="o">=</span> <span class="n">query_1</span><span class="p">,</span>  <span class="n">print_info</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Output: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">generator</span><span class="o">.</span><span class="n">current_generation_output</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">After this generation phase:&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;History and taboos: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">generator</span><span class="o">.</span><span class="n">memory</span><span class="o">.</span><span class="n">history_and_taboos</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Current navigation index: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">generator</span><span class="o">.</span><span class="n">memory</span><span class="o">.</span><span class="n">current_position_in_sequence</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Processing query 2 - free:&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">query_2</span> <span class="o">=</span> <span class="n">new_temporal_query_free_sequence_of_events</span><span class="p">(</span><span class="n">length</span> <span class="o">=</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">generator</span><span class="o">.</span><span class="n">receive_query</span><span class="p">(</span><span class="n">query</span> <span class="o">=</span> <span class="n">query_2</span><span class="p">,</span>  <span class="n">print_info</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Output: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">generator</span><span class="o">.</span><span class="n">current_generation_output</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">After this generation phase:&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;History and taboos: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">generator</span><span class="o">.</span><span class="n">memory</span><span class="o">.</span><span class="n">history_and_taboos</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="Generator.Generator.use_intervals">
<code class="descname">use_intervals</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Generator.Generator.use_intervals" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="Generator.format_list_as_list_of_strings">
<code class="descclassname">Generator.</code><code class="descname">format_list_as_list_of_strings</code><span class="sig-paren">(</span><em>l</em><span class="sig-paren">)</span><a class="headerlink" href="#Generator.format_list_as_list_of_strings" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="Generator.format_obj_as_string">
<code class="descclassname">Generator.</code><code class="descname">format_obj_as_string</code><span class="sig-paren">(</span><em>o</em><span class="sig-paren">)</span><a class="headerlink" href="#Generator.format_obj_as_string" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
</div>
<div class="section" id="module-PrefixIndexing">
<span id="pattern-matching-algorithms"></span><h1><strong>Pattern matching algorithms</strong><a class="headerlink" href="#module-PrefixIndexing" title="Permalink to this headline">¶</a></h1>
<div class="section" id="prefix-indexing-algorithms">
<h2>Prefix indexing algorithms<a class="headerlink" href="#prefix-indexing-algorithms" title="Permalink to this headline">¶</a></h2>
<p>Algorithms introduced in <strong>Nika, “Guiding Human-Computer Music Improvisation: introducing Authoring and Control with Temporal Scenarios”, PhD Thesis, UPMC Paris 6, Ircam, 2016</strong> (<a class="reference external" href="https://tel.archives-ouvertes.fr/tel-01361835">https://tel.archives-ouvertes.fr/tel-01361835</a>)
and 
<strong>Nika, Chemillier, Assayag, “ImproteK: introducing scenarios into human-computer music improvisation”, ACM Computers in Entertainment, Special issue on Musical metacreation Part I, 2017</strong> (<a class="reference external" href="https://hal.archives-ouvertes.fr/hal-01380163">https://hal.archives-ouvertes.fr/hal-01380163</a>).</p>
<p><strong>Tutorial in</strong> <code class="file docutils literal notranslate"><span class="pre">PrefixIndexing_tutorial.py</span></code>.</p>
<dl class="function">
<dt id="PrefixIndexing.add_shorter_prefixes">
<code class="descclassname">PrefixIndexing.</code><code class="descname">add_shorter_prefixes</code><span class="sig-paren">(</span><em>longest_prefixes_pattern_left_pos_in_sequence</em>, <em>internal_prefixes_in_pattern</em>, <em>j</em>, <em>i</em>, <em>print_info=0</em><span class="sig-paren">)</span><a class="headerlink" href="#PrefixIndexing.add_shorter_prefixes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sub-routine used in <a class="reference internal" href="#PrefixIndexing.prefix_indexing" title="PrefixIndexing.prefix_indexing"><code class="xref py py-func docutils literal notranslate"><span class="pre">PrefixIndexing.prefix_indexing()</span></code></a>.</p>
<p>Given the prefixes of the pattern found <strong>so far</strong> in the sequence at step i,j in <a class="reference internal" href="#PrefixIndexing.prefix_indexing" title="PrefixIndexing.prefix_indexing"><code class="xref py py-func docutils literal notranslate"><span class="pre">PrefixIndexing.prefix_indexing()</span></code></a> (only the longest in the region [j-length_longest_prefix(step i,j),j-1]),
return <strong>all the prefixes</strong> of the pattern in the sequence at step i,j
using the <strong>previously computed internal prefixes in the pattern</strong> (<a class="reference internal" href="#PrefixIndexing.failure_function_and_right_pos_prefixes" title="PrefixIndexing.failure_function_and_right_pos_prefixes"><code class="xref py py-func docutils literal notranslate"><span class="pre">PrefixIndexing.failure_function_and_right_pos_prefixes()</span></code></a>).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>longest_prefixes_pattern_left_pos_in_sequence</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a><em> (</em><em>int -&gt; list of int</em><em>)</em>) – prefixes of the pattern found <strong>so far</strong> (only the longest in region [j-length_longest_prefix,j-1]) in the sequence at step i,j of the research in <cite>PrefixIndexing.prefix_indexing</cite> (key = length, value = list of left positions of the prefixes of the pattern of length ‘length’ in the sequence)</li>
<li><strong>internal_prefixes_in_pattern</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a><em> (</em><em>int -&gt; list of int</em><em>)</em>) – prefixes of the pattern in itself <strong>resulting from a call to</strong> <a class="reference internal" href="#PrefixIndexing.failure_function_and_right_pos_prefixes" title="PrefixIndexing.failure_function_and_right_pos_prefixes"><code class="xref py py-func docutils literal notranslate"><span class="pre">PrefixIndexing.failure_function_and_right_pos_prefixes()</span></code></a> (key = index in the pattern (from 0), value = list: lengths of the prefixes of the pattern in itself ending at the corresponding index)</li>
<li><strong>j</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – current position of the cursor in the sequence</li>
<li><strong>i</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – current position of the cursor in the pattern</li>
<li><strong>print_info</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – print the details of the research?</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>all the prefixes</strong> of the pattern of the sequence at step i,j of the research (<a class="reference internal" href="#PrefixIndexing.prefix_indexing" title="PrefixIndexing.prefix_indexing"><code class="xref py py-func docutils literal notranslate"><span class="pre">PrefixIndexing.prefix_indexing()</span></code></a>) (key = length, value = list: left positions of prefixes of length ‘length’)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a> (int -&gt; list of int)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="PrefixIndexing.failure_function">
<code class="descclassname">PrefixIndexing.</code><code class="descname">failure_function</code><span class="sig-paren">(</span><em>pattern</em>, <em>equiv=&lt;function &lt;lambda&gt;&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#PrefixIndexing.failure_function" title="Permalink to this definition">¶</a></dt>
<dd><p>Failure function from the Morris &amp; Pratt algorithm.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>pattern</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – pattern on which the failure function is built</li>
<li><strong>equiv</strong> (<em>function</em>) – compararison function given as a lambda function, default: ==</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">failure function (key = index in the pattern (from 0), value = failure_function[index])</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a> (int -&gt; int)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Seealso:</th><td class="field-body"><p class="first"><strong>Tutorial in</strong> <code class="file docutils literal notranslate"><span class="pre">_Tutorials_/Generator_tutorial.py</span></code></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">!:</th><td class="field-body"><p class="first"><strong>equiv</strong> has to be consistent with the type of the elements in labels.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Example:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">failure_function</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">equiv</span> <span class="o">=</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="p">:</span> <span class="n">x</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="n">y</span><span class="o">%</span><span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="PrefixIndexing.failure_function_and_right_pos_prefixes">
<code class="descclassname">PrefixIndexing.</code><code class="descname">failure_function_and_right_pos_prefixes</code><span class="sig-paren">(</span><em>pattern</em>, <em>equiv=&lt;function &lt;lambda&gt;&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#PrefixIndexing.failure_function_and_right_pos_prefixes" title="Permalink to this definition">¶</a></dt>
<dd><p>Failure function built on the pattern, and right positions of the prefixes of the pattern in itself.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>pattern</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – pattern on which the failure function is built</li>
<li><strong>equiv</strong> (<em>function</em>) – compararison function given as a lambda function, default: ==</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Failure function built on the pattern (key = index in the pattern (from 0), value = failure_function[index]), and right positions of the prefixes of the pattern in itself (key = index in the pattern (from 0), value = list: lengths of the prefixes of the pattern in itself ending at the corresponding index).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.6)">tuple</a> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a>(int -&gt; int),<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a>(int -&gt; list of int))</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Seealso:</th><td class="field-body"><p class="first"><strong>Tutorial in</strong> <code class="file docutils literal notranslate"><span class="pre">_Tutorials_/Generator_tutorial.py</span></code></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">!:</th><td class="field-body"><p class="first"><strong>equiv</strong> has to be consistent with the type of the elements in labels.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Example:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pattern</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">failure_dict</span><span class="p">,</span> <span class="n">lengths_ending_prefixes_dict</span> <span class="o">=</span> <span class="n">failure_function_and_right_pos_prefixes</span><span class="p">(</span><span class="n">pattern</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">idx</span><span class="p">,</span><span class="n">length</span> <span class="ow">in</span> <span class="n">lengths_ending_prefixes_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Index </span><span class="si">{}</span><span class="s2">: right position of prefix(es) of </span><span class="si">{}</span><span class="s2"> in itself of length(s): </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">idx</span><span class="p">,</span> <span class="n">pattern</span><span class="p">,</span> <span class="n">length</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="PrefixIndexing.filtered_prefix_indexing">
<code class="descclassname">PrefixIndexing.</code><code class="descname">filtered_prefix_indexing</code><span class="sig-paren">(</span><em>sequence</em>, <em>pattern</em>, <em>**args</em><span class="sig-paren">)</span><a class="headerlink" href="#PrefixIndexing.filtered_prefix_indexing" title="Permalink to this definition">¶</a></dt>
<dd><p>Filtered index of the prefixes of a pattern in a sequence (filtered regarding lengths and positions).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sequence</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – </li>
<li><strong>pattern</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – </li>
<li><strong>authorized_indexes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em> (</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>)</em>) – [args] list of authorized indexes to filter the results</li>
<li><strong>length_interval</strong> (tuple (int, int): absolute lengths** of the prefixes <strong>or</strong> tuple (float, float): fractions of the length of the longest prefix before filtering) – [args] interval of length to filter the results.</li>
<li><strong>equiv</strong> (<em>function</em>) – [args] compararison function given as a lambda function, default: ==</li>
<li><strong>print_info</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – [args] print the details of the research?</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">prefixes of the pattern in the sequence after filtering (key = length, value = list of left positions of prefixes of the pattern of length ‘length’ in the sequence) <strong>and</strong> length of the longest prefix</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.6)">tuple</a> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a> (int -&gt; list), <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)">int</a>)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Seealso:</th><td class="field-body"><p class="first">Tutorial in PrefixIndexing_tutorial.py</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">!:</th><td class="field-body"><p class="first"><strong>equiv</strong> has to be consistent with the type of the elements in labels.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Example:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pattern</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sequence</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">authorized_indexes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">length_interval</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span><span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prefixes</span><span class="p">,</span> <span class="n">length_longest_prefix</span> <span class="o">=</span> <span class="n">filtered_prefix_indexing</span><span class="p">(</span><span class="n">sequence</span><span class="p">,</span> <span class="n">pattern</span><span class="p">,</span> <span class="n">authorized_indexes</span> <span class="o">=</span> <span class="n">authorized_indexes</span><span class="p">,</span> <span class="n">length_interval</span> <span class="o">=</span> <span class="n">length_interval</span><span class="p">,</span> <span class="n">equiv</span> <span class="o">=</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="p">:</span> <span class="n">x</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="n">y</span><span class="o">%</span><span class="mi">2</span><span class="p">),</span> <span class="n">print_info</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Prefixes of </span><span class="se">\n</span><span class="si">{}</span><span class="s2"> </span><span class="se">\n</span><span class="s2">in </span><span class="se">\n</span><span class="si">{}</span><span class="se">\n</span><span class="s2">using the user-defined comparison function &quot;</span> <span class="o">==</span> <span class="o">%</span><span class="mi">2</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Authorized indexes = </span><span class="si">{}</span><span class="s2"> - Authorized length interval (absolute length) = </span><span class="si">{}</span><span class="s2">:</span><span class="se">\n</span><span class="s2">----&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">sequence</span><span class="p">,</span> <span class="n">authorized_indexes</span><span class="p">,</span> <span class="n">length_interval</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">for</span> <span class="n">length</span><span class="p">,</span><span class="n">list_of_left_pos_in_sequence</span> <span class="ow">in</span> <span class="n">prefixes</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Length </span><span class="si">{}</span><span class="s2">: at left position(s) </span><span class="si">{}</span><span class="s2">.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">length</span><span class="p">,</span><span class="n">list_of_left_pos_in_sequence</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pattern</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sequence</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">length_interval</span> <span class="o">=</span> <span class="mf">1.0</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mf">4.0</span><span class="o">/</span><span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prefixes</span><span class="p">,</span> <span class="n">length_longest_prefix</span> <span class="o">=</span> <span class="n">filtered_prefix_indexing</span><span class="p">(</span><span class="n">sequence</span><span class="p">,</span> <span class="n">pattern</span><span class="p">,</span> <span class="n">length_interval</span> <span class="o">=</span> <span class="n">length_interval</span><span class="p">,</span> <span class="n">equiv</span> <span class="o">=</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="p">:</span> <span class="n">x</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="n">y</span><span class="o">%</span><span class="mi">2</span><span class="p">),</span> <span class="n">print_info</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Prefixes of </span><span class="se">\n</span><span class="si">{}</span><span class="s2"> </span><span class="se">\n</span><span class="s2">in </span><span class="se">\n</span><span class="si">{}</span><span class="se">\n</span><span class="s2">using the user-defined comparison function &quot;</span> <span class="o">==</span> <span class="o">%</span><span class="mi">2</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Authorized length interval (fraction of maximum length before filtering) = </span><span class="si">{}</span><span class="s2">:</span><span class="se">\n</span><span class="s2">----&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">sequence</span><span class="p">,</span> <span class="n">length_interval</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">length</span><span class="p">,</span><span class="n">list_of_left_pos_in_sequence</span> <span class="ow">in</span> <span class="n">prefixes</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Length </span><span class="si">{}</span><span class="s2">: at left position(s) </span><span class="si">{}</span><span class="s2">.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">length</span><span class="p">,</span><span class="n">list_of_left_pos_in_sequence</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="PrefixIndexing.prefix_indexing">
<code class="descclassname">PrefixIndexing.</code><code class="descname">prefix_indexing</code><span class="sig-paren">(</span><em>sequence</em>, <em>pattern</em>, <em>**args</em><span class="sig-paren">)</span><a class="headerlink" href="#PrefixIndexing.prefix_indexing" title="Permalink to this definition">¶</a></dt>
<dd><p>Index the prefixes of a pattern in a sequence.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sequence</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – </li>
<li><strong>pattern</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – </li>
<li><strong>equiv</strong> (<em>function</em>) – [args] compararison function given as a lambda function, default: ==</li>
<li><strong>print_info</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – [args] print the details of the research?</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">prefixes of the pattern in the sequence (key = length, value = list of left positions of prefixes of the pattern of length ‘length’ in the sequence) <strong>and</strong> length of the longest prefix</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.6)">tuple</a> ( <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a> (int -&gt; list), <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)">int</a>)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Seealso:</th><td class="field-body"><p class="first">Tutorial in PrefixIndexing_tutorial.py</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">!:</th><td class="field-body"><p class="first"><strong>equiv</strong> has to be consistent with the type of the elements in labels.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Example:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pattern</span> <span class="o">=</span> <span class="s2">&quot;ABCD&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sequence</span> <span class="o">=</span> <span class="s2">&quot;ABCDABAABC&quot;</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prefixes</span><span class="p">,</span> <span class="n">length_longest_prefix</span> <span class="o">=</span> <span class="n">prefix_indexing</span><span class="p">(</span><span class="n">sequence</span><span class="p">,</span> <span class="n">pattern</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Prefixes of </span><span class="se">\n</span><span class="si">{}</span><span class="s2"> </span><span class="se">\n</span><span class="s2">in </span><span class="se">\n</span><span class="si">{}</span><span class="s2">:&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">sequence</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">length</span><span class="p">,</span><span class="n">list_of_left_pos_in_sequence</span> <span class="ow">in</span> <span class="n">prefixes</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Prefixes of length </span><span class="si">{}</span><span class="s2">: at left position(s) </span><span class="si">{}</span><span class="s2">.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">length</span><span class="p">,</span><span class="n">list_of_left_pos_in_sequence</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pattern</span> <span class="o">=</span> <span class="p">[[</span><span class="s2">&quot;one&quot;</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span><span class="p">],[</span><span class="s2">&quot;three&quot;</span><span class="p">,</span> <span class="s2">&quot;THREE&quot;</span><span class="p">],[</span><span class="s2">&quot;two&quot;</span><span class="p">,</span> <span class="s2">&quot;two&quot;</span><span class="p">],[</span><span class="s2">&quot;two&quot;</span><span class="p">,</span> <span class="s2">&quot;TWO&quot;</span><span class="p">],[</span><span class="s2">&quot;four&quot;</span><span class="p">,</span> <span class="s2">&quot;FOUR&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;three&quot;</span><span class="p">,</span> <span class="s2">&quot;THREE&quot;</span><span class="p">],</span> \
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="s2">&quot;three&quot;</span><span class="p">,</span> <span class="s2">&quot;3&quot;</span><span class="p">],[</span><span class="s2">&quot;one&quot;</span><span class="p">,</span> <span class="s2">&quot;ONE&quot;</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sequence</span> <span class="o">=</span> <span class="p">[[</span><span class="s2">&quot;two&quot;</span><span class="p">,</span> <span class="s2">&quot;two&quot;</span><span class="p">],[</span><span class="s2">&quot;one&quot;</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span><span class="p">],[</span><span class="s2">&quot;three&quot;</span><span class="p">,</span> <span class="s2">&quot;3&quot;</span><span class="p">],[</span><span class="s2">&quot;two&quot;</span><span class="p">,</span> <span class="s2">&quot;two&quot;</span><span class="p">],[</span><span class="s2">&quot;two&quot;</span><span class="p">,</span> <span class="s2">&quot;TWO&quot;</span><span class="p">],[</span><span class="s2">&quot;one&quot;</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;three&quot;</span><span class="p">,</span> <span class="s2">&quot;three&quot;</span><span class="p">],</span> \
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="s2">&quot;two&quot;</span><span class="p">,</span> <span class="s2">&quot;TWO&quot;</span><span class="p">],[</span><span class="s2">&quot;two&quot;</span><span class="p">,</span> <span class="s2">&quot;TWO&quot;</span><span class="p">],[</span><span class="s2">&quot;four&quot;</span><span class="p">,</span> <span class="s2">&quot;FOUR&quot;</span><span class="p">],[</span><span class="s2">&quot;four&quot;</span><span class="p">,</span> <span class="s2">&quot;FOUR&quot;</span><span class="p">],[</span><span class="s2">&quot;one&quot;</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span><span class="p">],[</span><span class="s2">&quot;three&quot;</span><span class="p">,</span> <span class="s2">&quot;THREE&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;two&quot;</span><span class="p">,</span> <span class="s2">&quot;two&quot;</span><span class="p">],[</span><span class="s2">&quot;three&quot;</span><span class="p">,</span> <span class="s2">&quot;THREE&quot;</span><span class="p">],</span> \
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="s2">&quot;three&quot;</span><span class="p">,</span> <span class="s2">&quot;3&quot;</span><span class="p">],[</span><span class="s2">&quot;one&quot;</span><span class="p">,</span> <span class="s2">&quot;ONE&quot;</span><span class="p">]]</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prefixes</span><span class="p">,</span> <span class="n">length_longest_prefix</span> <span class="o">=</span> <span class="n">prefix_indexing</span><span class="p">(</span><span class="n">sequence</span><span class="p">,</span> <span class="n">pattern</span><span class="p">,</span> <span class="n">equiv</span> <span class="o">=</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">y</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Prefixes of </span><span class="se">\n</span><span class="si">{}</span><span class="s2"> </span><span class="se">\n</span><span class="s2">in </span><span class="se">\n</span><span class="si">{}</span><span class="se">\n</span><span class="s2">using the user-defined comparison function &#39;1st elem. == 1st elem.&#39;:&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">sequence</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">length</span><span class="p">,</span><span class="n">list_of_left_pos_in_sequence</span> <span class="ow">in</span> <span class="n">prefixes</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Length </span><span class="si">{}</span><span class="s2">: at left position(s) </span><span class="si">{}</span><span class="s2">.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">length</span><span class="p">,</span><span class="n">list_of_left_pos_in_sequence</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

</div>
<span class="target" id="module-Intervals"></span><div class="section" id="using-intervals">
<h2>Using Intervals<a class="headerlink" href="#using-intervals" title="Permalink to this headline">¶</a></h2>
<p>Some subclasses of <code class="xref py py-class docutils literal notranslate"><span class="pre">Label</span></code> enable to define a notion of interval. The tools defined in this module handle such possibilities.
<strong>Tutorial in</strong> <code class="file docutils literal notranslate"><span class="pre">_Tutorials_/Label_and_intervals_tutorial.py</span></code>.</p>
</div>
<p>/!…documentation in progress… /!</p>
</div>
<div class="section" id="event-label-transformation">
<h1><strong>Event, Label, Transformation</strong><a class="headerlink" href="#event-label-transformation" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-Label"></span><div class="section" id="label">
<h2>Label<a class="headerlink" href="#label" title="Permalink to this headline">¶</a></h2>
<p>Definition of alphabets of labels to build sequences and use them in creative applications.</p>
</div>
<p>/!…documentation in progress… /!</p>
<span class="target" id="module-Transforms"></span><div class="section" id="transforms">
<h2>Transforms<a class="headerlink" href="#transforms" title="Permalink to this headline">¶</a></h2>
<p>Class defining transformations on labels and contents.</p>
</div>
<p>/!…documentation in progress… /!</p>
</div>
<div class="section" id="osc-communication">
<h1><strong>OSC communication</strong><a class="headerlink" href="#osc-communication" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-OSCAgent"></span><div class="section" id="osc-agent">
<h2>OSC AGENT<a class="headerlink" href="#osc-agent" title="Permalink to this headline">¶</a></h2>
<p>Class defining an OSC server embedding an instance of class <a class="reference internal" href="#Generator.GenerationHandler" title="Generator.GenerationHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenerationHandler</span></code></a>.
See the different tutorials accompanied with Max patches.</p>
</div>
<p>/!…documentation in progress… /!</p>
</div>
<div class="section" id="module-GeneratorBuilder">
<span id="memory-and-corpus"></span><h1>Memory and corpus<a class="headerlink" href="#module-GeneratorBuilder" title="Permalink to this headline">¶</a></h1>
<div class="section" id="generator-builder">
<h2>Generator Builder<a class="headerlink" href="#generator-builder" title="Permalink to this headline">¶</a></h2>
<p>Tools and functions to create instances of classes <a class="reference internal" href="#Generator.Generator" title="Generator.Generator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code></a> and <a class="reference internal" href="#Generator.GenerationHandler" title="Generator.GenerationHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenerationHandler</span></code></a> from a json file / dict defining a sequence of events with metadata..
Example of the required json / dict format: <code class="file docutils literal notranslate"><span class="pre">_Tutorial_/ExamplesCorpus/ExampleDictMemory.json</span></code>.</p>
<dl class="function">
<dt id="GeneratorBuilder.extract_labels_and_contents_from_dict_memory">
<code class="descclassname">GeneratorBuilder.</code><code class="descname">extract_labels_and_contents_from_dict_memory</code><span class="sig-paren">(</span><em>dict_memory</em>, <em>keys_labels</em>, <em>keys_contents</em><span class="sig-paren">)</span><a class="headerlink" href="#GeneratorBuilder.extract_labels_and_contents_from_dict_memory" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts a sequence of labels and sequence of contents from a dict / json file defining a sequence of events with metadata..</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dict_memory</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a>) – sequence of events with metadata</li>
<li><strong>keys_labels</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – key of the field in the dict / json file that will be considered as label.</li>
<li><strong>keys_contents</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – key of the field in the dict / json file that will be considered as content.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">sequence of labels, sequence of contents</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)">list</a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)">list</a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">See also:</th><td class="field-body"><p class="first last">Example of the required json / dict format: <code class="file docutils literal notranslate"><span class="pre">_Tutorial_/ExamplesCorpus/ExampleDictMemory.json</span></code>.</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>The dict / json file always contain fields that can be used with the following keys (for the labels as well as the contents):</dt>
<dd><ul class="first last simple">
<li>“absolute_time”: start date of the event, absolute time</li>
<li>“relative_time”: start date of the event, relative time</li>
<li>“tempo”: local tempo</li>
<li>“index”: index in the sequence</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="GeneratorBuilder.new_generation_handler_from_dict_memory">
<code class="descclassname">GeneratorBuilder.</code><code class="descname">new_generation_handler_from_dict_memory</code><span class="sig-paren">(</span><em>dict_memory, keys_labels, keys_contents, model_navigator='FactorOracleNavigator', equiv=&lt;function &lt;lambda&gt;&gt;, label_type=None, content_type=None, authorized_tranformations=[0], continuity_with_future=[0.0, 1.0]</em><span class="sig-paren">)</span><a class="headerlink" href="#GeneratorBuilder.new_generation_handler_from_dict_memory" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an instance of class <a class="reference internal" href="#Generator.GenerationHandler" title="Generator.GenerationHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenerationHandler</span></code></a> from a dict defining a sequence of events with metadata..</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dict_memory</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a>) – sequence of events with metadata</li>
<li><strong>keys_labels</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – key of the field in the dict / json file that will be considered as label.</li>
<li><strong>keys_contents</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – key of the field in the dict / json file that will be considered as content.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Other parameters: see <a class="reference internal" href="#Generator.GenerationHandler" title="Generator.GenerationHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenerationHandler</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Generation handler</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#Generator.GenerationHandler" title="Generator.GenerationHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenerationHandler</span></code></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">See also:</th><td class="field-body">Example of the required json / dict format: <code class="file docutils literal notranslate"><span class="pre">_Tutorial_/ExamplesCorpus/ExampleDictMemory.json</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">See also:</th><td class="field-body"><strong>Tutorial in</strong> <code class="file docutils literal notranslate"><span class="pre">_Tutorials_/GeneratorBuilder_tutorial.py</span></code>.</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>The dict / json file always contain fields that can be used with the following keys (for the labels as well as the contents):</dt>
<dd><ul class="first last simple">
<li>“absolute_time”: start date of the event, absolute time</li>
<li>“relative_time”: start date of the event, relative time</li>
<li>“tempo”: local tempo</li>
<li>“index”: index in the sequence</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="GeneratorBuilder.new_generation_handler_from_json_file">
<code class="descclassname">GeneratorBuilder.</code><code class="descname">new_generation_handler_from_json_file</code><span class="sig-paren">(</span><em>path_json_file, keys_labels, keys_contents, model_navigator='FactorOracleNavigator', equiv=&lt;function &lt;lambda&gt;&gt;, label_type=None, content_type=None, authorized_tranformations=[0], continuity_with_future=[0.0, 1.0]</em><span class="sig-paren">)</span><a class="headerlink" href="#GeneratorBuilder.new_generation_handler_from_json_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an instance of class <a class="reference internal" href="#Generator.GenerationHandler" title="Generator.GenerationHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenerationHandler</span></code></a> from a json file defining a sequence of events with metadata..</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path_json_file</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – path of the json file defining a sequence of events with metadata.</li>
<li><strong>keys_labels</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – key of the field in the dict / json file that will be considered as label.</li>
<li><strong>keys_contents</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – key of the field in the dict / json file that will be considered as content.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Other parameters: see <a class="reference internal" href="#Generator.GenerationHandler" title="Generator.GenerationHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenerationHandler</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Generation handler</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#Generator.GenerationHandler" title="Generator.GenerationHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenerationHandler</span></code></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">See also:</th><td class="field-body">Example of the required json / dict format: <code class="file docutils literal notranslate"><span class="pre">_Tutorial_/ExamplesCorpus/ExampleDictMemory.json</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">See also:</th><td class="field-body"><strong>Tutorial in</strong> <code class="file docutils literal notranslate"><span class="pre">_Tutorials_/GeneratorBuilder_tutorial.py</span></code>.</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>The dict / json file always contain fields that can be used with the following keys (for the labels as well as the contents):</dt>
<dd><ul class="first last simple">
<li>“absolute_time”: start date of the event, absolute time</li>
<li>“relative_time”: start date of the event, relative time</li>
<li>“tempo”: local tempo</li>
<li>“index”: index in the sequence</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="GeneratorBuilder.new_generator_from_dict_memory">
<code class="descclassname">GeneratorBuilder.</code><code class="descname">new_generator_from_dict_memory</code><span class="sig-paren">(</span><em>dict_memory, keys_labels, keys_contents, model_navigator='FactorOracleNavigator', equiv=&lt;function &lt;lambda&gt;&gt;, label_type=None, content_type=None, authorized_tranformations=[0], continuity_with_future=[0.0, 1.0]</em><span class="sig-paren">)</span><a class="headerlink" href="#GeneratorBuilder.new_generator_from_dict_memory" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an instance of class <a class="reference internal" href="#Generator.Generator" title="Generator.Generator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code></a> from a dict defining a sequence of events with metadata..</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dict_memory</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a>) – sequence of events with metadata</li>
<li><strong>keys_labels</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – key of the field in the dict / json file that will be considered as label.</li>
<li><strong>keys_contents</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – key of the field in the dict / json file that will be considered as content.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Other parameters: see <a class="reference internal" href="#Generator.Generator" title="Generator.Generator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Generator</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#Generator.Generator" title="Generator.Generator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">See also:</th><td class="field-body">Example of the required json / dict format: <code class="file docutils literal notranslate"><span class="pre">_Tutorial_/ExamplesCorpus/ExampleDictMemory.json</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">See also:</th><td class="field-body"><strong>Tutorial in</strong> <code class="file docutils literal notranslate"><span class="pre">_Tutorials_/GeneratorBuilder_tutorial.py</span></code>.</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>The dict / json file always contain fields that can be used with the following keys (for the labels as well as the contents):</dt>
<dd><ul class="first last simple">
<li>“absolute_time”: start date of the event, absolute time</li>
<li>“relative_time”: start date of the event, relative time</li>
<li>“tempo”: local tempo</li>
<li>“index”: index in the sequence</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="GeneratorBuilder.new_generator_from_json_file">
<code class="descclassname">GeneratorBuilder.</code><code class="descname">new_generator_from_json_file</code><span class="sig-paren">(</span><em>path_json_file, keys_labels, keys_contents, model_navigator='FactorOracleNavigator', equiv=&lt;function &lt;lambda&gt;&gt;, label_type=None, content_type=None, authorized_tranformations=[0], continuity_with_future=[0.0, 1.0]</em><span class="sig-paren">)</span><a class="headerlink" href="#GeneratorBuilder.new_generator_from_json_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an instance of class <a class="reference internal" href="#Generator.Generator" title="Generator.Generator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code></a> from a json file defining a sequence of events with metadata..</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path_json_file</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – path of the json file defining a sequence of events with metadata.</li>
<li><strong>keys_labels</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – key of the field in the dict / json file that will be considered as label.</li>
<li><strong>keys_contents</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – key of the field in the dict / json file that will be considered as content.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Other parameters: see <a class="reference internal" href="#Generator.Generator" title="Generator.Generator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Generator</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#Generator.Generator" title="Generator.Generator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">See also:</th><td class="field-body">Example of the required json / dict format: <code class="file docutils literal notranslate"><span class="pre">_Tutorial_/ExamplesCorpus/ExampleDictMemory.json</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">See also:</th><td class="field-body"><strong>Tutorial in</strong> <code class="file docutils literal notranslate"><span class="pre">_Tutorials_/GeneratorBuilder_tutorial.py</span></code>.</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>The dict / json file always contain fields that can be used with the following keys (for the labels as well as the contents):</dt>
<dd><ul class="first last simple">
<li>“absolute_time”: start date of the event, absolute time</li>
<li>“relative_time”: start date of the event, relative time</li>
<li>“tempo”: local tempo</li>
<li>“index”: index in the sequence</li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<span class="target" id="module-ParseAnnotationFiles"></span><div class="section" id="parse-annotation-files">
<h2>Parse Annotation Files.<a class="headerlink" href="#parse-annotation-files" title="Permalink to this headline">¶</a></h2>
<p>Tools and functions to create, import, and format json / dict “memories” from annotation files.
Example of the required annotations files format in directory <code class="file docutils literal notranslate"><span class="pre">MaxPatches/_Tutorial_/_ExamplesCorpus_/1-AnnotationFiles/</span></code>.</p>
<p><strong>Tutorial in</strong> <code class="file docutils literal notranslate"><span class="pre">ParseAnnotationFiles_tutorial.py</span></code>.</p>
<dl class="function">
<dt id="ParseAnnotationFiles.csv_events_to_lists">
<code class="descclassname">ParseAnnotationFiles.</code><code class="descname">csv_events_to_lists</code><span class="sig-paren">(</span><em>file_path</em>, <em>max_num_label=None</em>, <em>offset_dates_ms=0</em>, <em>previous_label_if_no_label=True</em>, <em>from_s_to_ms=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ParseAnnotationFiles.csv_events_to_lists" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts dates and labels from a “csv-like” annotation file (<strong>see format below</strong>).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>file_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – path of the annotations file (csv-like, <strong>see format below</strong>)</li>
<li><strong>max_num_label</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – maximum number of labels to extract for each event</li>
<li><strong>offset_dates_ms</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – optional offset to add to the start date of each event</li>
<li><strong>previous_label_if_no_label</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – if True: an event without annotation will be labeled with the label of the previous event, default: True</li>
<li><strong>from_s_to_ms</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – if True: start date = start date * 1000, default: False -&gt; <strong>default = dates in ms</strong></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of dates, list of labels</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.6)">tuple</a> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)">list</a>,<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)">list</a>)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Seealso:</th><td class="field-body"><p class="first"><strong>Tutorial in</strong> <code class="file docutils literal notranslate"><span class="pre">ParseAnnotationFiles_tutorial.py</span></code></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Seealso:</th><td class="field-body"><p class="first last">Example of the required format in directory <code class="file docutils literal notranslate"><span class="pre">MaxPatches/_Tutorial_/_ExamplesCorpus_/1-AnnotationFiles/</span></code></p>
</td>
</tr>
</tbody>
</table>
<p><strong>Format of a “csv-like” annotation file:</strong></p>
<p>[start_date_event_1]; [label_1_1] … [label_1_n]</p>
<p>…</p>
<p>[start_date_event_m]; [label_m_1] … [label_m_n]</p>
<ul class="simple">
<li>Each line : [start date of the event] ; [label] (different elements separated by ” “, or “idem”)</li>
<li>No empty line</li>
<li>No ” “, “,”, “;” in the labels</li>
</ul>
</dd></dl>

<dl class="function">
<dt id="ParseAnnotationFiles.directory_csv_events_to_lists">
<code class="descclassname">ParseAnnotationFiles.</code><code class="descname">directory_csv_events_to_lists</code><span class="sig-paren">(</span><em>path_directory</em>, <em>max_num_label=None</em>, <em>previous_label_if_no_label=True</em>, <em>from_s_to_ms=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ParseAnnotationFiles.directory_csv_events_to_lists" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts and concatenates dates and labels from the csv-like files in a given directory (<strong>see format below</strong>). 
Each file <strong>must</strong> include a marker corresponding to the end the last event, and a marker corresponding to the end of the file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">!:</th><td class="field-body"><p class="first">In the result list: <strong>Date Event-m_File-n = Orignal date Event-m_File-n + offset (length File-1 + … + length File-(n-1))</strong></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>path_directory</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – path of the directory containing the annotations file (csv-like, <strong>see format below</strong>)</li>
<li><strong>max_num_label</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – maximum number of labels to extract for each event</li>
<li><strong>offset_dates_ms</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – optional offset to add to the start date of each event</li>
<li><strong>previous_label_if_no_label</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – if True: an event without annotation will be labeled with the label of the previous event, default: True</li>
<li><strong>from_s_to_ms</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – if True: start date = start date * 1000, default: False -&gt; <strong>default = dates in ms</strong></li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of dates, list of labels</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.6)">tuple</a> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)">list</a>,<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)">list</a>)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Seealso:</th><td class="field-body"><p class="first"><strong>Tutorial in</strong> <code class="file docutils literal notranslate"><span class="pre">ParseAnnotationFiles_tutorial.py</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Seealso:</th><td class="field-body"><p class="first last">Example of the required format in directory <code class="file docutils literal notranslate"><span class="pre">MaxPatches/_Tutorial_/_ExamplesCorpus_/1-AnnotationFiles/</span></code></p>
</td>
</tr>
</tbody>
</table>
<p><strong>Format of a “csv-like” annotation file:</strong></p>
<p>[start_date_event_1]; [label_1_1] … [label_1_n]</p>
<p>…</p>
<p>[start_date_event_m]; [label_m_1] … [label_m_n]</p>
<ul class="simple">
<li>Each line : [start date of the event] ; [label] (different elements separated by ” “, or “idem”)</li>
<li>No empty line</li>
<li>No ” “, “,”, “;” in the labels</li>
</ul>
</dd></dl>

<dl class="function">
<dt id="ParseAnnotationFiles.multi_files_csv_events_to_lists">
<code class="descclassname">ParseAnnotationFiles.</code><code class="descname">multi_files_csv_events_to_lists</code><span class="sig-paren">(</span><em>list_file_path</em>, <em>max_num_label=None</em>, <em>previous_label_if_no_label=True</em>, <em>from_s_to_ms=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ParseAnnotationFiles.multi_files_csv_events_to_lists" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts and concatenates dates and labels from a list of csv-like files (<strong>see format below</strong>). 
Each file <strong>must</strong> include a marker corresponding to the end the last event, and a marker corresponding to the end of the file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">!:</th><td class="field-body"><p class="first">In the result list: <strong>Date Event-m_File-n = Orignal date Event-m_File-n + offset (length File-1 + … + length File-(n-1))</strong></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>list_file_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em> (</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>)</em>) – paths of the annotations file (csv-like, <strong>see format below</strong>)</li>
<li><strong>max_num_label</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – maximum number of labels to extract for each event</li>
<li><strong>offset_dates_ms</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – optional offset to add to the start date of each event</li>
<li><strong>previous_label_if_no_label</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – if True: an event without annotation will be labeled with the label of the previous event, default: True</li>
<li><strong>from_s_to_ms</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – if True: start date = start date * 1000, default: False -&gt; <strong>default = dates in ms</strong></li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of dates, list of labels</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.6)">tuple</a> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)">list</a>,<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)">list</a>)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Seealso:</th><td class="field-body"><p class="first"><strong>Tutorial in</strong> <code class="file docutils literal notranslate"><span class="pre">ParseAnnotationFiles_tutorial.py</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Seealso:</th><td class="field-body"><p class="first last">Example of the required format in directory <code class="file docutils literal notranslate"><span class="pre">MaxPatches/_Tutorial_/_ExamplesCorpus_/1-AnnotationFiles/</span></code></p>
</td>
</tr>
</tbody>
</table>
<p><strong>Format of a “csv-like” annotation file:</strong></p>
<p>[start_date_event_1]; [label_1_1] … [label_1_n]</p>
<p>…</p>
<p>[start_date_event_m]; [label_m_1] … [label_m_n]</p>
<ul class="simple">
<li>Each line : [start date of the event] ; [label] (different elements separated by ” “, or “idem”)</li>
<li>No empty line</li>
<li>No ” “, “,”, “;” in the labels</li>
</ul>
</dd></dl>

<dl class="function">
<dt id="ParseAnnotationFiles.multi_files_numpy_events_to_lists">
<code class="descclassname">ParseAnnotationFiles.</code><code class="descname">multi_files_numpy_events_to_lists</code><span class="sig-paren">(</span><em>list_file_path</em>, <em>from_s_to_ms=True</em>, <em>from_hz_to_midi=True</em>, <em>pitch_mod_12=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ParseAnnotationFiles.multi_files_numpy_events_to_lists" title="Permalink to this definition">¶</a></dt>
<dd><p>each file must have a marker at the end, label = end</p>
</dd></dl>

<dl class="function">
<dt id="ParseAnnotationFiles.numpy_file_to_lists">
<code class="descclassname">ParseAnnotationFiles.</code><code class="descname">numpy_file_to_lists</code><span class="sig-paren">(</span><em>file_path</em>, <em>offset_dates_ms=0</em>, <em>from_s_to_ms=True</em>, <em>from_hz_to_midi=True</em>, <em>pitch_mod_12=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ParseAnnotationFiles.numpy_file_to_lists" title="Permalink to this definition">¶</a></dt>
<dd><p>Format of a row :date_beginning date_end label</p>
</dd></dl>

<dl class="function">
<dt id="ParseAnnotationFiles.write_csv_file_from_dates_labels">
<code class="descclassname">ParseAnnotationFiles.</code><code class="descname">write_csv_file_from_dates_labels</code><span class="sig-paren">(</span><em>dates</em>, <em>labels</em>, <em>path_write</em><span class="sig-paren">)</span><a class="headerlink" href="#ParseAnnotationFiles.write_csv_file_from_dates_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>each file must have a marker at the end, label = end</p>
</dd></dl>

<dl class="function">
<dt id="ParseAnnotationFiles.write_multi_files_csv_events">
<code class="descclassname">ParseAnnotationFiles.</code><code class="descname">write_multi_files_csv_events</code><span class="sig-paren">(</span><em>list_file_path</em>, <em>path_write</em>, <em>max_num_label=None</em>, <em>previous_label_if_no_label=True</em>, <em>from_s_to_ms=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ParseAnnotationFiles.write_multi_files_csv_events" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the result of <a class="reference internal" href="#ParseAnnotationFiles.multi_files_csv_events_to_lists" title="ParseAnnotationFiles.multi_files_csv_events_to_lists"><code class="xref any py py-func docutils literal notranslate"><span class="pre">ParseAnnotationFiles.multi_files_csv_events_to_lists</span></code></a> as a csv-like file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path_write</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – path of the output file</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ParseAnnotationFiles.write_multi_files_numpy_events">
<code class="descclassname">ParseAnnotationFiles.</code><code class="descname">write_multi_files_numpy_events</code><span class="sig-paren">(</span><em>list_file_path</em>, <em>path_write</em>, <em>from_s_to_ms=True</em>, <em>from_hz_to_midi=True</em>, <em>pitch_mod_12=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ParseAnnotationFiles.write_multi_files_numpy_events" title="Permalink to this definition">¶</a></dt>
<dd><p>each file must have a marker at the end, label = end</p>
</dd></dl>

</div>
<p>/!…documentation in progress… /!</p>
</div>


      </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        <a class="uplink" href="#">Contents</a>
        </p>

      </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright DYCI2 project partners (http://repmus.ircam.fr/dyci2/home), Author: Jérôme Nika, IRCAM STMS LAB.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.1.
    </div>
  </body>
</html>